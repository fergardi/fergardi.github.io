{"version":3,"file":"src_app_user_user_module_ts-es2015.js","mappings":"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","sources":["./src/app/user/encyclopedia/encyclopedia.component.ts","./src/app/user/encyclopedia/encyclopedia.component.html","./src/app/user/landing/landing.component.ts","./src/app/user/landing/landing.component.html","./src/app/user/legend/legend.component.ts","./src/app/user/legend/legend.component.html","./src/app/user/login/geolocation.component.ts","./src/app/user/login/login.component.ts","./src/app/user/login/login.component.html","./src/app/user/user-routing.module.ts","./src/app/user/user.module.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { fadeInOnEnterAnimation } from 'angular-animations';\r\nimport { CacheService } from 'src/app/services/cache.service';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TomeComponent } from './tome.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { TutorialService } from 'src/app/services/tutorial.service';\r\n\r\n@Component({\r\n  selector: 'app-encyclopedia',\r\n  templateUrl: './encyclopedia.component.html',\r\n  styleUrls: ['./encyclopedia.component.scss'],\r\n  animations: [fadeInOnEnterAnimation({ duration: 250, delay: 250 })],\r\n})\r\nexport class EncyclopediaComponent implements OnInit {\r\n\r\n  search: string = '';\r\n  columns: string[] = [\r\n    'name',\r\n    'faction',\r\n    'type',\r\n  ];\r\n  filters: any = {\r\n    name: {\r\n      type: 'text',\r\n      value: '',\r\n    },\r\n    faction: {\r\n      type: 'select',\r\n      value: '',\r\n      options: [],\r\n    },\r\n    type: {\r\n      type: 'multiple',\r\n      value: [],\r\n      options: [],\r\n    },\r\n  };\r\n  table: MatTableDataSource<any> = new MatTableDataSource([]);\r\n  topics: any[] = [];\r\n\r\n  constructor(\r\n    private cacheService: CacheService,\r\n    private translateService: TranslateService,\r\n    private dialog: MatDialog,\r\n    public tutorialService: TutorialService,\r\n  ) { }\r\n\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    let data = await Promise.all([\r\n      this.cacheService.getSkills(),\r\n      this.cacheService.getUnits(),\r\n      this.cacheService.getSpells(),\r\n      this.cacheService.getItems(),\r\n      this.cacheService.getGods(),\r\n      this.cacheService.getStructures(),\r\n      this.cacheService.getHeroes(),\r\n      this.cacheService.getResources(),\r\n      this.cacheService.getFamilies(),\r\n      this.cacheService.getCategories(),\r\n      this.cacheService.getGuilds(),\r\n      this.cacheService.getAttacks(),\r\n      this.cacheService.getLocations(),\r\n      this.cacheService.getStores(),\r\n      this.cacheService.getPerks(),\r\n    ]);\r\n    data = data.reduce((a: any[], b: any) => a.concat(b), []);\r\n    this.table = new MatTableDataSource(data);\r\n    this.table.paginator = this.paginator;\r\n    this.table.sort = this.sort;\r\n    this.table.sortingDataAccessor = (obj, property) => {\r\n      if (property === 'name') return this.translateService.instant(obj['name']);\r\n      if (property === 'faction') return this.translateService.instant(obj['faction']['name']);\r\n      if (property === 'type') return this.translateService.instant(`type.${obj['type']}.name`);\r\n      return obj[property];\r\n    };\r\n    this.filters.faction.options = this.filters.faction.options.concat(\r\n      [{ id: '', name: 'table.filter.any', image: '/assets/images/factions/grey.png' }],\r\n      await this.cacheService.getFactions(),\r\n    );\r\n    this.filters.faction.value = this.filters.faction.options[0];\r\n    const legendary = new Array({ name: 'category.legendary.name', value: true });\r\n    const types = [...new Set(data.map((row: any) => row.type))].map((type: string) => ({ name: `type.${type}.name`, value: type }));\r\n    const subtypes = [...new Set(data.filter((row: any) => row.subtype).map((row: any) => row.subtype))].map((subtype: string) => ({ name: `type.${subtype}.name`, value: subtype }));\r\n    this.filters.type.options = [legendary, types, subtypes]\r\n    .reduce((a: any[], b: any) => a.concat(b), [])\r\n    .filter((value: any, index: number, array: any[]) => array.findIndex((element: any) => (element.name === value.name)) === index) // https://stackoverflow.com/a/56757215/2477303\r\n    .sort((a: any, b: any) => this.translateService.instant(a.name).localeCompare(this.translateService.instant(b.name)));\r\n    this.table.filterPredicate = this.createFilter();\r\n    this.applyFilter();\r\n    // topics\r\n    this.topics = [\r\n      { surname: 'kingdom', name: 'city', examples: this.table.data.filter((item: any) => ['barrier', 'node'].includes(item.id)), suffix: '/assets/images/resources/land.png' },\r\n      { surname: 'kingdom', name: 'auction', examples: this.table.data.filter((item: any) => ['shield-light', 'crypt-keeper'].includes(item.id)), suffix: '/assets/images/resources/gold.png' },\r\n      { surname: 'kingdom', name: 'emporium', examples: this.table.data.filter((item: any) => ['magic-compass', 'dragon-egg'].includes(item.id)), suffix: '/assets/images/resources/gem.png' },\r\n      { surname: 'world', name: 'map', examples: this.table.data.filter((item: any) => ['graveyard', 'inn'].includes(item.id)) },\r\n      { surname: 'kingdom', name: 'army', examples: this.table.data.filter((item: any) => ['bone-dragon', 'hydra'].includes(item.id)) },\r\n      { surname: 'kingdom', name: 'tavern', examples: this.table.data.filter((item: any) => ['dragon-rider', 'sage'].includes(item.id)) },\r\n      { surname: 'kingdom', name: 'census', examples: [{ name: 'Bot 1', description: 'Bots', type: 'player', image: '/assets/images/factions/black.png', faction: { id: 'black' } }, { name: 'Bot 2', description: 'Bots', type: 'player', image: '/assets/images/factions/white.png', faction: { id: 'white' } }], suffix: '/assets/images/icons/power.png' },\r\n      { surname: 'kingdom', name: 'archive', examples: [{ name: 'Bot 3', description: 'kingdom.report.subject', type: 'report', image: '/assets/images/factions/green.png', faction: { id: 'green' } }, { name: 'Bot 4', description: 'kingdom.auction.subject', type: 'report', image: '/assets/images/factions/blue.png', faction: { id: 'blue' } }] },\r\n      { surname: 'kingdom', name: 'clan', examples: this.table.data.filter((item: any) => ['hunter', 'warrior'].includes(item.id)) },\r\n      { surname: 'kingdom', name: 'sorcery', examples: this.table.data.filter((item: any) => ['fireball', 'locust-swarm'].includes(item.id)), suffix: '/assets/images/resources/mana.png' },\r\n      { surname: 'kingdom', name: 'temple', examples: this.table.data.filter((item: any) => ['death', 'famine'].includes(item.id)), suffix: '/assets/images/spells/grey/armageddon.png' },\r\n      { surname: 'user', name: 'encyclopedia', examples: this.table.data.filter((item: any) => ['breath', 'dragon'].includes(item.id)) },\r\n    ];\r\n  }\r\n\r\n  applyFilter(): void {\r\n    this.table.filter = JSON.stringify({\r\n      name: this.filters.name.value,\r\n      type: this.filters.type.value,\r\n      faction: this.filters.faction.value,\r\n    });\r\n  }\r\n\r\n  createFilter(): (data: any, filter: string) => boolean {\r\n    const normalize = /[\\u0300-\\u036f]/g;\r\n    const filterFunction = (data: any, filter: string): boolean => {\r\n      const filters = JSON.parse(filter);\r\n      return (this.translateService.instant(data.name).toLowerCase().normalize('NFD').replace(normalize, '').includes(filters.name.toLowerCase().normalize('NFD').replace(normalize, ''))\r\n        || this.translateService.instant(data.description).toLowerCase().normalize('NFD').replace(normalize, '').includes(filters.name.toLowerCase().normalize('NFD').replace(normalize, '')))\r\n        && (!filters.type.length || filters.type.every((element: any) => [data.type, data.subtype, data.legendary].includes(element)))\r\n        && (!filters.faction || data.faction.id.toLowerCase().includes(filters.faction.id));\r\n    };\r\n    return filterFunction;\r\n  }\r\n\r\n  openTomeDialog(tome: any): void {\r\n    const dialogRef = this.dialog.open(TomeComponent, {\r\n      panelClass: 'dialog-responsive',\r\n      data: tome,\r\n    });\r\n  }\r\n\r\n  clearFilter(): void {\r\n    this.filters.name.value = '';\r\n    this.filters.faction.value = this.filters.faction.options[0];\r\n    this.filters.type.value = [];\r\n    if (this.table.paginator) {\r\n      this.table.paginator.pageSize = this.table.paginator.pageSizeOptions[0];\r\n      this.table.paginator.pageIndex = 0;\r\n    }\r\n    if (this.table.sort) {\r\n      if (this.table.sort.active !== 'name' && this.table.sort.direction !== 'asc') {\r\n        this.table.sort.sort({\r\n          id: 'name',\r\n          start: 'asc',\r\n          disableClear: false,\r\n        });\r\n      }\r\n    }\r\n    this.applyFilter();\r\n  }\r\n\r\n}\r\n","<div class=\"user-encyclopedia\" fxLayout=\"row wrap\" fxLayoutGap=\"10px grid\" [@fadeInOnEnter]>\r\n\r\n  <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"table-responsive\">\r\n\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <img mat-card-avatar src=\"/assets/images/cards/encyclopedia.png\" [alt]=\"'kingdom.encyclopedia.name' | translate\">\r\n        <mat-card-title>{{ 'user.encyclopedia.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ 'user.encyclopedia.description' | translate }}</mat-card-subtitle>\r\n        <div class=\"mat-card-extras\">\r\n          <button mat-icon-button (click)=\"this.tutorialService.start('tour.encyclopedia')\"><mat-icon>help</mat-icon></button>\r\n          <mat-chip-list><mat-chip color=\"primary\"><mat-icon>description</mat-icon>{{ table.data.length | long }}</mat-chip></mat-chip-list>\r\n        </div>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content>\r\n        <p>{{ 'user.encyclopedia.help' | translate }}</p>\r\n        <table mat-table matSort matSortActive=\"name\" matSortDirection=\"asc\" [dataSource]=\"table\" tourAnchor=\"tour.encyclopedia\" [attr.aria-label]=\"'kingdom.encyclopediaame' | translate\">\r\n          <ng-container matColumnDef=\"{{ column }}\" *ngFor=\"let column of columns\">\r\n            <mat-header-cell class=\"table-header\" *matHeaderCellDef>\r\n              <div mat-sort-header>{{ 'table.column.' + column | translate }}</div>\r\n\r\n              <mat-form-field class=\"table-filter\" *ngIf=\"filters[column] && filters[column].type === 'text'\">\r\n                <input matInput [(ngModel)]=\"filters[column].value\" (keyup)=\"applyFilter()\" autocomplete=\"off\" type=\"search\">\r\n                <button mat-button *ngIf=\"filters[column].value\" matSuffix mat-icon-button (click)=\"filters[column].value=''; applyFilter()\">\r\n                  <mat-icon>close</mat-icon>\r\n                </button>\r\n              </mat-form-field>\r\n\r\n              <mat-form-field class=\"table-filter\" *ngIf=\"filters[column] && filters[column].type === 'select'\">\r\n                <mat-select [(ngModel)]=\"filters[column].value\" (selectionChange)=\"applyFilter()\">\r\n                  <mat-option *ngFor=\"let option of filters[column].options\" [value]=\"option\">\r\n                    <mat-list dense>\r\n                      <mat-list-item [ngClass]=\"option.id\">\r\n                        <div mat-list-avatar>\r\n                          <img mat-list-avatar [src]=\"option.image\" [alt]=\"option.name | translate\">\r\n                        </div>\r\n                        <div mat-line>{{ option.name | translate }}</div>\r\n                      </mat-list-item>\r\n                    </mat-list>\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n\r\n              <mat-form-field class=\"table-filter\" *ngIf=\"filters[column] && filters[column].type === 'multiple'\">\r\n                <mat-select [(ngModel)]=\"filters[column].value\" (selectionChange)=\"applyFilter()\" multiple>\r\n                  <mat-option *ngFor=\"let option of filters[column].options\" [value]=\"option.value\">\r\n                    <mat-chip-list>\r\n                      <mat-chip color=\"primary\" selected [ngClass]=\"option.name.includes('legendary') ? 'legendary' : ''\">\r\n                        <img class=\"icon\" [src]=\"option.name.includes('legendary') ? '/assets/images/icons/legendary.png' : '/assets/images/icons/type.png'\" [alt]=\"option.name | translate\">{{ option.name | translate }}\r\n                      </mat-chip>\r\n                    </mat-chip-list>\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n\r\n            </mat-header-cell>\r\n\r\n            <mat-cell *matCellDef=\"let row\" [attr.data-label]=\"'table.column.' + column | translate\">\r\n\r\n              <ng-template [ngIf]=\"column === 'name'\">\r\n                <mat-list dense>\r\n                  <mat-list-item [ngClass]=\"[row.faction.id, (row | legendary) ? 'legendary' : 'common']\">\r\n                    <div mat-list-avatar [matBadge]=\"row.level || '?'\" matBadgePosition=\"above before\">\r\n                      <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"row.image\" [ngClass]=\"row.type === 'god' ? 'squared' : ''\" [alt]=\"row.name | translate\">\r\n                    </div>\r\n                    <div mat-line>{{ row.name | translate }}</div>\r\n                    <div mat-line class=\"mat-card-subtitle\" *ngIf=\"row.type !== 'unit'\" [innerHTML]=\"row.description | translate | icon:row\"></div>\r\n                    <div mat-line class=\"mat-card-subtitle\" *ngIf=\"row.type === 'unit'\">\r\n                      <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of row.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n                      <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of row.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n                      <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of row.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n                      <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"row.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n                    </div>\r\n                    <div mat-line class=\"mat-card-subtitle\" *ngIf=\"row.type === 'unit' && row.resistances && row.resistances.length\">\r\n                      <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of row.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n                    </div>\r\n                  </mat-list-item>\r\n                </mat-list>\r\n              </ng-template>\r\n\r\n              <ng-template [ngIf]=\"column === 'faction'\">\r\n                <mat-list dense>\r\n                  <mat-list-item [ngClass]=\"row.faction.id\">\r\n                    <div mat-list-avatar>\r\n                      <img mat-list-avatar [src]=\"row.faction.image\" [alt]=\"row.faction.name | translate\">\r\n                    </div>\r\n                    <div mat-line>{{ row.faction.name | translate }}</div>\r\n                    <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"row.faction.description | translate | icon:row.faction\"></div>\r\n                  </mat-list-item>\r\n                </mat-list>\r\n              </ng-template>\r\n\r\n              <ng-template [ngIf]=\"column === 'type'\">\r\n                <mat-chip-list>\r\n                  <mat-chip color=\"primary\" selected><img class=\"icon\" src=\"/assets/images/icons/type.png\" [alt]=\"'type.' + row.type + '.name' | translate\">{{ 'type.' + row.type + '.name'  | translate }}</mat-chip>\r\n                  <mat-chip color=\"primary\" selected *ngIf=\"row.subtype\"><img class=\"icon\" src=\"/assets/images/icons/type.png\" [alt]=\"'type.' + row.subtype + '.name' | translate\">{{ 'type.' + row.subtype + '.name'  | translate }}</mat-chip>\r\n                  <mat-chip color=\"primary\" selected *ngIf=\"row.legendary\" class=\"legendary\"><img class=\"icon\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">{{ 'category.legendary.name' | translate }}</mat-chip>\r\n                </mat-chip-list>\r\n              </ng-template>\r\n\r\n            </mat-cell>\r\n          </ng-container>\r\n\r\n          <mat-header-row *matHeaderRowDef=\"columns; sticky: true\"></mat-header-row>\r\n          <mat-row *matRowDef=\"let tome; columns: columns;\" (click)=\"openTomeDialog(tome)\"></mat-row>\r\n        </table>\r\n\r\n        <mat-toolbar>\r\n          <mat-toolbar-row>\r\n            <button mat-mini-fab color=\"primary\" (click)=\"clearFilter()\"><mat-icon>clear</mat-icon></button>\r\n            <span class=\"fill-space\"></span>\r\n            <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n          </mat-toolbar-row>\r\n        </mat-toolbar>\r\n\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div fxFlex.xl=\"33\" fxFlex.lg=\"33\" fxFlex.md=\"50\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" *ngFor=\"let topic, let i = index of topics\" [attr.id]=\"i === 0 ? 'help' : ''\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <img mat-card-avatar [src]=\"'/assets/images/cards/' + topic.name + '.png'\" [alt]=\"topic.name | translate\">\r\n        <mat-card-title>{{ topic.surname + '.' + topic.name + '.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ topic.surname + '.' + topic.name + '.description' | translate }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <mat-list dense>\r\n          <ng-container *ngFor=\"let example of topic.examples\">\r\n            <mat-list-item [ngClass]=\"[example.faction.id, example.legendary ? 'legendary' : 'common']\">\r\n              <div mat-list-avatar [matBadge]=\"example.type === 'report' ? '!' : '?'\" matBadgePosition=\"above before\">\r\n                <img mat-list-avatar [src]=\"example.image\" [ngClass]=\"example.type === 'god' ? 'squared' : ''\" [alt]=\"example.name | translate\">\r\n              </div>\r\n              <div mat-line>{{ example.name | translate }}</div>\r\n              <div mat-line class=\"mat-card-subtitle\" *ngIf=\"example.type !== 'unit'\" [innerHTML]=\"example.description | translate | icon:example\"></div>\r\n              <div mat-line class=\"mat-card-subtitle\" *ngIf=\"example.type === 'unit'\">\r\n                <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of example.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n                <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of example.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n                <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of example.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n                <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"example.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n              </div>\r\n              <div mat-line class=\"mat-card-subtitle\" *ngIf=\"example.type === 'unit' && example.resistances && example.resistances.length\">\r\n                <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of example.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n              </div>\r\n              <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above after\" *ngIf=\"topic.suffix\">\r\n                <img mat-list-avatar [src]=\"topic.suffix\" [alt]=\"'type.resource.name' | translate\">\r\n              </div>\r\n            </mat-list-item>\r\n          </ng-container>\r\n        </mat-list>\r\n      </mat-card-content>\r\n      <mat-card-content>\r\n        <p [innerHTML]=\"topic.surname + '.' + topic.name + '.tour' | translate | icon\"></p>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" id=\"changelog\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <img mat-card-avatar src=\"/assets/images/cards/changelog.png\" [alt]=\"'user.changelog.name' | translate\">\r\n        <mat-card-title>{{ 'user.changelog.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ 'user.changelog.description' | translate }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>{{ 'user.changelog.help' | translate }}</p>\r\n        <mat-accordion class=\"example-headers-align\">\r\n          <mat-expansion-panel [expanded]=\"false\">\r\n            <mat-expansion-panel-header>\r\n              <mat-panel-title>Version 1.0.0</mat-panel-title>\r\n              <mat-panel-description>Alfa</mat-panel-description>\r\n            </mat-expansion-panel-header>\r\n            <ul>\r\n              <li>Test</li>\r\n              <li>Test</li>\r\n              <li>Test</li>\r\n              <li>Test</li>\r\n            </ul>\r\n          </mat-expansion-panel>\r\n        </mat-accordion>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" id=\"bonfire\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <img mat-card-avatar src=\"/assets/images/cards/bonfire.png\" [alt]=\"'user.bonfire.name' | translate\">\r\n        <mat-card-title>{{ 'user.bonfire.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ 'user.bonfire.description' | translate }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n      <mat-card-content>\r\n        <p>{{ 'user.bonfire.help' | translate }}</p>\r\n        <disqus identifier=\"/help\"></disqus>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { DomService } from 'src/app/services/dom.service';\r\n\r\n@Component({\r\n  selector: 'app-landing',\r\n  templateUrl: './landing.component.html',\r\n  styleUrls: ['./landing.component.scss'],\r\n})\r\nexport class LandingComponent {\r\n\r\n  constructor(\r\n    public domService: DomService,\r\n  ) { }\r\n\r\n}\r\n","<div class=\"app-landing\" >\r\n  <div class=\"parallax\">\r\n    <!-- PARALLAX https://codepen.io/samdbeckham/pen/OPXPNp -->\r\n    <div class=\"parallax-layer parallax-layer-1\"></div>\r\n    <div class=\"parallax-layer parallax-layer-2 animated fadeInUp\" style=\"animation-delay: 2250ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-3 animated fadeInUp\" style=\"animation-delay: 2000ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-4 animated fadeInUp\" style=\"animation-delay: 1750ms\">\r\n      <div class=\"landing-title\">\r\n        <h1 class=\"mat-display-4\">{{ 'landing.title.name' | translate }}</h1>\r\n        <h3 class=\"mat-subheading-2\">{{ 'landing.title.description' | translate }}</h3>\r\n      </div>\r\n    </div>\r\n    <div class=\"parallax-layer parallax-layer-5 animated fadeInUp\" style=\"animation-delay: 1500ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-6 animated fadeInUp\" style=\"animation-delay: 1250ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-7 animated fadeInUp\" style=\"animation-delay: 1000ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-8 animated fadeInUp\" style=\"animation-delay: 750ms\"></div>\r\n    <div class=\"parallax-layer parallax-layer-9 animated fadeInUp\" style=\"animation-delay: 500ms\"></div>\r\n    <!-- LOGIN -->\r\n    <div class=\"parallax-layer parallax-layer-10 animated fadeInUp\" style=\"animation-delay: 250ms\" #login>\r\n      <app-login></app-login>\r\n    </div>\r\n    <!-- CONTENT -->\r\n    <div class=\"parallax-content\" #content>\r\n      <div class=\"wrapper\">\r\n        <div class=\"app-landing-content\" fxLayout=\"row wrap\" fxLayoutGap=\"20px grid\">\r\n           <!-- REALITY -->\r\n           <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"center\" fxFlexOrder.xs=\"0\">\r\n            <h1 class=\"mat-display-3\">{{ 'landing.reality.name' | translate }}</h1>\r\n          </div>\r\n          <!-- RESURRECTION -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"10\">\r\n            <img src=\"/assets/images/landing/resurrection.png\" [alt]=\"'landing.resurrection.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"20\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.resurrection.name' | translate }}</h1>\r\n            <p>{{ 'landing.resurrection.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/categories/melee.png\" [alt]=\"'category.melee.name' | translate\">\r\n              <img src=\"/assets/images/categories/psychic.png\" [alt]=\"'category.psychic.name' | translate\">\r\n              <img src=\"/assets/images/categories/ranged.png\" [alt]=\"'category.ranged.name' | translate\">\r\n              <img src=\"/assets/images/categories/magic.png\" [alt]=\"'category.magic.name' | translate\">\r\n              <img src=\"/assets/images/categories/breath.png\" [alt]=\"'category.breath.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <!-- FACTIONS -->\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"center\" fxFlexOrder.xs=\"30\">\r\n            <h1 class=\"mat-display-3 margened\">{{ 'landing.choose.name' | translate }}</h1>\r\n            <p class=\"mat-subheading-2\">{{ 'landing.choose.description' | translate }}</p>\r\n          </div>\r\n          <div fxFlex.xl=\"20\" fxFlex.lg=\"20\" fxFlex.md=\"20\" fxFlex.sm=\"20\" fxFlex.xs=\"100\" class=\"image-responsive center\" fxFlexOrder.xs=\"40\">\r\n            <img src=\"/assets/images/factions/black.png\" [alt]=\"'faction.black.name' | translate\">\r\n            <h1 class=\"mat-h1\">{{ 'faction.black.name' | translate }}</h1>\r\n            <p>{{ 'faction.black.help' | translate }}</p>\r\n            <div class=\"faction-icons\">\r\n              <img src=\"/assets/images/spells/black/death-decay.png\" [alt]=\"'spell.death-decay.name' | translate\">\r\n              <img src=\"/assets/images/spells/black/necromancy.png\" [alt]=\"'spell.necromancy.name' | translate\">\r\n              <img src=\"/assets/images/spells/black/vampirism.png\" [alt]=\"'spell.vampirism.name' | translate\">\r\n              <img src=\"/assets/images/spells/black/soul-pact.png\" class=\"legendary\" [alt]=\"'spell.soul-pact.name' | translate\">\r\n              <img src=\"/assets/images/spells/black/night-living-dead.png\" [alt]=\"'spell.night-living-dead.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"20\" fxFlex.lg=\"20\" fxFlex.md=\"20\" fxFlex.sm=\"20\" fxFlex.xs=\"100\" class=\"image-responsive center\" fxFlexOrder.xs=\"50\">\r\n            <img src=\"/assets/images/factions/green.png\" [alt]=\"'faction.green.name' | translate\">\r\n            <h1 class=\"mat-h1\">{{ 'faction.green.name' | translate }}</h1>\r\n            <p>{{ 'faction.green.help' | translate }}</p>\r\n            <div class=\"faction-icons\">\r\n              <img src=\"/assets/images/spells/green/natures-favor.png\" class=\"legendary\" [alt]=\"'spell.natures-favor.name' | translate\">\r\n              <img src=\"/assets/images/spells/green/venom.png\" [alt]=\"'spell.venom.name' | translate\">\r\n              <img src=\"/assets/images/spells/green/druidism.png\" [alt]=\"'spell.druidism.name' | translate\">\r\n              <img src=\"/assets/images/spells/green/climate-control.png\" [alt]=\"'spell.climate-control.name' | translate\">\r\n              <img src=\"/assets/images/spells/green/calm.png\" [alt]=\"'spell.calm.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"20\" fxFlex.lg=\"20\" fxFlex.md=\"20\" fxFlex.sm=\"20\" fxFlex.xs=\"100\" class=\"image-responsive center\" fxFlexOrder.xs=\"60\">\r\n            <img src=\"/assets/images/factions/blue.png\" [alt]=\"'faction.blue.name' | translate\">\r\n            <h1 class=\"mat-h1\">{{ 'faction.blue.name' | translate }}</h1>\r\n            <p>{{ 'faction.blue.help' | translate }}</p>\r\n            <div class=\"faction-icons\">\r\n              <img src=\"/assets/images/spells/blue/freeze.png\" [alt]=\"'spell.freeze.name' | translate\">\r\n              <img src=\"/assets/images/spells/blue/avarice.png\" [alt]=\"'spell.avarice.name' | translate\">\r\n              <img src=\"/assets/images/spells/blue/laziness.png\" class=\"legendary\" [alt]=\"'spell.laziness.name' | translate\">\r\n              <img src=\"/assets/images/spells/blue/confuse.png\" [alt]=\"'spell.confuse.name' | translate\">\r\n              <img src=\"/assets/images/spells/blue/invisibility.png\" [alt]=\"'spell.invisibility.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"20\" fxFlex.lg=\"20\" fxFlex.md=\"20\" fxFlex.sm=\"20\" fxFlex.xs=\"100\" class=\"image-responsive center\" fxFlexOrder.xs=\"70\">\r\n            <img src=\"/assets/images/factions/red.png\" [alt]=\"'faction.red.name' | translate\">\r\n            <h1 class=\"mat-h1\">{{ 'faction.red.name' | translate }}</h1>\r\n            <p>{{ 'faction.red.help' | translate }}</p>\r\n            <div class=\"faction-icons\">\r\n              <img src=\"/assets/images/spells/red/frenzy.png\" [alt]=\"'spell.frenzy.name' | translate\">\r\n              <img src=\"/assets/images/spells/red/inferno.png\" class=\"legendary\" [alt]=\"'spell.inferno.name' | translate\">\r\n              <img src=\"/assets/images/spells/red/volcano.png\" [alt]=\"'spell.volcano.name' | translate\">\r\n              <img src=\"/assets/images/spells/red/succubus-kiss.png\" [alt]=\"'spell.succubus-kiss.name' | translate\">\r\n              <img src=\"/assets/images/spells/red/battle-chant.png\" [alt]=\"'spell.battle-chant.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"20\" fxFlex.lg=\"20\" fxFlex.md=\"20\" fxFlex.sm=\"20\" fxFlex.xs=\"100\" class=\"image-responsive center\" fxFlexOrder.xs=\"80\">\r\n            <img src=\"/assets/images/factions/white.png\" [alt]=\"'faction.white.name' | translate\">\r\n            <h1 class=\"mat-h1\">{{ 'faction.white.name' | translate }}</h1>\r\n            <p>{{ 'faction.white.help' | translate }}</p>\r\n            <div class=\"faction-icons\">\r\n              <img src=\"/assets/images/spells/white/prayer.png\" [alt]=\"'spell.prayer.name' | translate\">\r\n              <img src=\"/assets/images/spells/white/endurance.png\" [alt]=\"'spell.endurance.name' | translate\">\r\n              <img src=\"/assets/images/spells/white/exorcism.png\" [alt]=\"'spell.exorcism.name' | translate\">\r\n              <img src=\"/assets/images/spells/white/blaze.png\" [alt]=\"'spell.blaze.name' | translate\">\r\n              <img src=\"/assets/images/spells/white/miracle.png\" class=\"legendary\" [alt]=\"'spell.miracle.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <!-- DESTINY -->\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"center\" fxFlexOrder.xs=\"90\">\r\n            <h1 class=\"mat-display-3 margened\">{{ 'landing.destiny.name' | translate }}</h1>\r\n          </div>\r\n          <!-- CITY -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"110\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.city.name' | translate }}</h1>\r\n            <p>{{ 'landing.city.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/structures/farm.png\" [alt]=\"'structure.farm.name' | translate\">\r\n              <img src=\"/assets/images/structures/fortress.png\" [alt]=\"'structure.fortress.name' | translate\">\r\n              <img src=\"/assets/images/structures/academy.png\" [alt]=\"'structure.academy.name' | translate\">\r\n              <img src=\"/assets/images/structures/node.png\" [alt]=\"'structure.node.name' | translate\">\r\n              <img src=\"/assets/images/structures/village.png\" [alt]=\"'structure.village.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"100\">\r\n            <img src=\"/assets/images/landing/city.png\" [alt]=\"'landing.city.name' | translate\">\r\n          </div>\r\n          <!-- CENSUS -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"120\">\r\n            <img src=\"/assets/images/landing/sorcery.png\" [alt]=\"'landing.conjure.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"130\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.conjure.name' | translate }}</h1>\r\n            <p>{{ 'landing.conjure.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/spells/red/fireball.png\" [alt]=\"'spell.fireball.name' | translate\">\r\n              <img src=\"/assets/images/spells/black/terror.png\" [alt]=\"'spell.terror.name' | translate\">\r\n              <img src=\"/assets/images/spells/green/ambush.png\" [alt]=\"'spell.ambush.name' | translate\">\r\n              <img src=\"/assets/images/spells/white/resurrection.png\" class=\"spell\" [alt]=\"'unit.resurrection.name' | translate\">\r\n              <img src=\"/assets/images/spells/blue/fog.png\" [alt]=\"'spell.fog.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <!-- ARMY -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"150\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.army.name' | translate }}</h1>\r\n            <p>{{ 'landing.army.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/units/black/zombie.png\" [alt]=\"'unit.zombie.name' | translate\">\r\n              <img src=\"/assets/images/units/blue/mage.png\" [alt]=\"'unit.mage.name' | translate\">\r\n              <img src=\"/assets/images/units/green/hydra.png\" class=\"legendary\" [alt]=\"'unit.hydra.name' | translate\">\r\n              <img src=\"/assets/images/units/red/ogre.png\" [alt]=\"'unit.ogre.name' | translate\">\r\n              <img src=\"/assets/images/units/white/paladin.png\" [alt]=\"'unit.paladin.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"140\">\r\n            <img src=\"/assets/images/landing/army.png\" [alt]=\"'landing.army.name' | translate\">\r\n          </div>\r\n          <!-- MAP -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"160\">\r\n            <img src=\"/assets/images/landing/map.png\" [alt]=\"'landing.map.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"170\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.map.name' | translate }}</h1>\r\n            <p>{{ 'landing.map.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/locations/graveyard.png\" [alt]=\"'location.graveyard.name' | translate\">\r\n              <img src=\"/assets/images/locations/forest.png\" [alt]=\"'location.forest.name' | translate\">\r\n              <img src=\"/assets/images/locations/cathedral.png\" [alt]=\"'location.cathedral.name' | translate\">\r\n              <img src=\"/assets/images/locations/mountain.png\" [alt]=\"'location.mountain.name' | translate\">\r\n              <img src=\"/assets/images/locations/lake.png\" [alt]=\"'location.lake.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <!-- DESKTOP -->\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" fxFlexOrder.xs=\"180\" class=\"image-wrapper\">\r\n            <svg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#99009C\" d=\"M45.7,-80.2C58.9,-71.5,69.1,-58.6,75.7,-44.6C82.2,-30.5,85.2,-15.3,86.4,0.7C87.6,16.7,87.1,33.3,79.9,46.3C72.7,59.3,58.8,68.5,44.4,76.2C30,83.9,15,90,-0.6,91.1C-16.2,92.1,-32.4,88.2,-44.9,79.4C-57.3,70.6,-66,56.8,-74.4,42.8C-82.8,28.7,-90.9,14.4,-92.7,-1.1C-94.6,-16.5,-90.2,-33.1,-80.3,-44.4C-70.3,-55.7,-54.8,-61.8,-40.5,-69.9C-26.1,-78,-13.1,-88.1,1.6,-90.9C16.2,-93.6,32.5,-89,45.7,-80.2Z\" transform=\"translate(100 100)\" /></svg>\r\n            <img class=\"image-desktop mat-elevation-z8\" src=\"/assets/images/landing/desktop.png\" [alt]=\"'landing.title.name' | translate\">\r\n          </div>\r\n          <!-- TAVERN -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"200\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.tavern.name' | translate }}</h1>\r\n            <p>{{ 'landing.tavern.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/heroes/blue/shaman.png\" class=\"legendary\" [alt]=\"'hero.shaman.name' | translate\">\r\n              <img src=\"/assets/images/heroes/red/dragon-rider.png\" [alt]=\"'hero.dragon-rider.name' | translate\">\r\n              <img src=\"/assets/images/heroes/white/trader.png\" class=\"legendary\" [alt]=\"'hero.trader.name' | translate\">\r\n              <img src=\"/assets/images/heroes/black/crypt-keeper.png\" [alt]=\"'hero.crypt-keeper.name' | translate\">\r\n              <img src=\"/assets/images/heroes/blue/elementalist.png\" class=\"legendary\" [alt]=\"'hero.elementalist.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"190\">\r\n            <img src=\"/assets/images/landing/tavern.png\" [alt]=\"'landing.tavern.name' | translate\">\r\n          </div>\r\n          <!-- AUCTION -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"210\">\r\n            <img src=\"/assets/images/landing/auction.png\" [alt]=\"'landing.auction.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"220\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.auction.name' | translate }}</h1>\r\n            <p>{{ 'landing.auction.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/items/treasure-chest.png\" [alt]=\"'item.treasure-chest.name' | translate\">\r\n              <img src=\"/assets/images/items/lucky-paw.png\" class=\"legendary\" [alt]=\"'item.lucky-paw.name' | translate\">\r\n              <img src=\"/assets/images/items/mana-vortex.png\" [alt]=\"'item.mana-vortex.name' | translate\">\r\n              <img src=\"/assets/images/items/rattle.png\" class=\"legendary\" [alt]=\"'item.rattle.name' | translate\">\r\n              <img src=\"/assets/images/items/valhalla-horn.png\" [alt]=\"'item.valhalla-horn.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <!-- CLAN -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"240\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.clan.name' | translate }}</h1>\r\n            <p>{{ 'landing.clan.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/clans/axe.png\" [alt]=\"'kingdom.clan.name' | translate\">\r\n              <img src=\"/assets/images/clans/crow.png\" [alt]=\"'kingdom.clan.name' | translate\">\r\n              <img src=\"/assets/images/clans/hat.png\" [alt]=\"'kingdom.clan.name' | translate\">\r\n              <img src=\"/assets/images/clans/rip.png\" [alt]=\"'kingdom.clan.name' | translate\">\r\n              <img src=\"/assets/images/clans/helmet.png\" [alt]=\"'kingdom.clan.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"230\">\r\n            <img src=\"/assets/images/landing/clan.png\" [alt]=\"'landing.clan.name' | translate\">\r\n          </div>\r\n          <!-- TEMPLE -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"250\">\r\n            <img src=\"/assets/images/landing/temple.png\" [alt]=\"'landing.temple.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"260\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.temple.name' | translate }}</h1>\r\n            <p>{{ 'landing.temple.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/gods/death.png\" class=\"legendary god-avatar\" [alt]=\"'god.death.name' | translate\">\r\n              <img src=\"/assets/images/gods/famine.png\" class=\"legendary god-avatar\" [alt]=\"'god.famine.name' | translate\">\r\n              <img src=\"/assets/images/gods/void.png\" class=\"legendary god-avatar\" [alt]=\"'god.void.name' | translate\">\r\n              <img src=\"/assets/images/gods/war.png\" class=\"legendary god-avatar\" [alt]=\"'god.war.name' | translate\">\r\n              <img src=\"/assets/images/gods/pestilence.png\" class=\"legendary god-avatar\" [alt]=\"'god.pestilence.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" fxFlexOrder.xs=\"270\" class=\"image-wrapper\">\r\n            <svg viewBox=\"0 0 200 200\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#99009C\" d=\"M35.5,-58.4C46,-48.6,54.5,-38.6,63,-26.8C71.6,-14.9,80.3,-1,78,10.8C75.6,22.7,62.3,32.6,50.8,41.8C39.3,51,29.7,59.5,16.8,68.3C4,77,-11.9,86,-27.8,85.5C-43.7,85.1,-59.5,75.2,-63.4,60.6C-67.2,46,-59,26.6,-58.3,10.4C-57.6,-5.9,-64.3,-19.2,-62.7,-31.1C-61.1,-43,-51.2,-53.6,-39.3,-62.8C-27.5,-72,-13.7,-79.9,-0.6,-78.9C12.5,-78,25.1,-68.2,35.5,-58.4Z\" transform=\"translate(100 100)\" /></svg>\r\n            <img class=\"image-mobile mat-elevation-z8\" src=\"/assets/images/landing/mobile.png\" [alt]=\"'landing.title.name' | translate\">\r\n          </div>\r\n          <!-- VICTORY -->\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"center\" fxFlexOrder.xs=\"280\">\r\n            <h1 class=\"mat-display-3 margened\">{{ 'landing.victory.name' | translate }}</h1>\r\n          </div>\r\n          <!-- STRATEGY -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"300\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.strategy.name' | translate }}</h1>\r\n            <p>{{ 'landing.strategy.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\">\r\n              <img src=\"/assets/images/resources/mana.png\" [alt]=\"'resource.mana.name' | translate\">\r\n              <img src=\"/assets/images/resources/population.png\" [alt]=\"'resource.population.name' | translate\">\r\n              <img src=\"/assets/images/resources/land.png\" [alt]=\"'resource.land.name' | translate\">\r\n              <img src=\"/assets/images/resources/turn.png\" [alt]=\"'resource.turn.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"290\">\r\n            <img src=\"/assets/images/landing/strategy.png\" [alt]=\"'landing.strategy.name' | translate\">\r\n          </div>\r\n          <!-- LEGEND -->\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" class=\"image-responsive\" fxFlexOrder.xs=\"310\">\r\n            <img src=\"/assets/images/landing/legend.png\" [alt]=\"'landing.legend.name' | translate\">\r\n          </div>\r\n          <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"50\" fxFlex.sm=\"50\" fxFlex.xs=\"100\" fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"center\" fxFlexOrder.xs=\"320\">\r\n            <h1 class=\"mat-h1\">{{ 'landing.legend.name' | translate }}</h1>\r\n            <p>{{ 'landing.legend.description' | translate }}</p>\r\n            <div class=\"image-icons\">\r\n              <img src=\"/assets/images/categories/fire.png\" [alt]=\"'category.fire.name' | translate\">\r\n              <img src=\"/assets/images/categories/holy.png\" [alt]=\"'category.holy.name' | translate\">\r\n              <img src=\"/assets/images/categories/lightning.png\" [alt]=\"'category.lightning.name' | translate\">\r\n              <img src=\"/assets/images/categories/poison.png\" [alt]=\"'category.poison.name' | translate\">\r\n              <img src=\"/assets/images/categories/cold.png\" [alt]=\"'category.cold.name' | translate\">\r\n            </div>\r\n          </div>\r\n          <div fxFlex.xl=\"100\" fxFlex.lg=\"100\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\" class=\"center\" fxFlexOrder.xs=\"330\" id=\"legend\">\r\n            <app-legend></app-legend>\r\n            <a mat-raised-button color=\"primary\" class=\"play-button\" (click)=\"domService.scrollToElement(login)\">{{ 'landing.title.play' | translate }}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- FOOTER -->\r\n      <div class=\"app-landing-footer\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\"><path fill=\"#99009c\" fill-opacity=\"1\" d=\"M0,128L48,144C96,160,192,192,288,213.3C384,235,480,245,576,240C672,235,768,213,864,213.3C960,213,1056,235,1152,208C1248,181,1344,107,1392,69.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\"></path></svg>\r\n        <div class=\"retribution\" fxLayout=\"row wrap\" fxLayoutAlign=\"center center\">\r\n          <a mat-button href=\"https://www.freepik.com/free-photos-vectors/business\">Freepik Images</a>\r\n          <a mat-button href=\"https://assetstore.unity.com/publishers/13229\">Unity Store</a>\r\n          <a mat-button href=\"https://www.mapbox.com/mapbox-studio/\">Mapbox Studio</a>\r\n          <a mat-button href=\"https://material.angular.io/\">Angular Material</a>\r\n          <a mat-button href=\"https://material.io/resources/landing/\">Material Icons</a>\r\n          <a mat-button href=\"https://www.ngxs.io/\">Angular NGXS</a>\r\n          <a mat-button href=\"https://fonts.google.com/\">Google Fonts</a>\r\n          <a mat-button href=\"https://firebase.google.com/docs/firestore\">Cloud Firestore</a>\r\n          <a mat-button href=\"https://getwaves.io/\">Get Waves</a>\r\n          <a mat-button href=\"https://www.blobmaker.app/\">Blob Maker</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { TutorialService } from 'src/app/services/tutorial.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-legend',\r\n  templateUrl: './legend.component.html',\r\n  styleUrls: ['./legend.component.scss'],\r\n})\r\n@UntilDestroy()\r\nexport class LegendComponent implements OnInit {\r\n\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n  columns = ['name', 'clan', 'timestamp'];\r\n  filters: any = {\r\n    name: {\r\n      type: 'text',\r\n      value: '',\r\n    },\r\n    clan: {\r\n      type: 'text',\r\n      value: '',\r\n    },\r\n    timestamp: {\r\n      type: 'timestamp',\r\n      value: null,\r\n    },\r\n  };\r\n  data: MatTableDataSource<any> = new MatTableDataSource();\r\n  @ViewChild(MatPaginator, {static: true}) paginator: MatPaginator;\r\n  @ViewChild(MatSort, {static: true}) sort: MatSort;\r\n\r\n  constructor(\r\n    private store: Store,\r\n    private angularFirestore: AngularFirestore,\r\n    public tutorialService: TutorialService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.angularFirestore.collection<any>('legends').valueChanges({ idField: 'fid' }).pipe(untilDestroyed(this)).subscribe(legends => {\r\n      this.data = new MatTableDataSource(legends);\r\n      this.data.paginator = this.paginator;\r\n      this.data.sortingDataAccessor = (obj, property) => property === 'name' ? obj['power'] : obj[property];\r\n      this.data.sort = this.sort;\r\n      this.data.filterPredicate = this.createFilter();\r\n      this.applyFilter();\r\n    });\r\n  }\r\n\r\n  applyFilter() {\r\n    this.data.filter = JSON.stringify({\r\n      name: this.filters.name.value,\r\n      clan: this.filters.clan.value,\r\n    });\r\n  }\r\n\r\n  createFilter(): (data: any, filter: string) => boolean {\r\n    const filterFunction = (data: any, filter: string): boolean => {\r\n      const filters = JSON.parse(filter);\r\n      return data.name.toLowerCase().includes(filters.name)\r\n        && (!filters.timestamp || moment(data.timestamp.toMillis()).isBetween(moment(filters.timestamp).startOf('day'), moment(filters.timestamp).endOf('day'), 'days', '[]'))\r\n        && (!filters.clan || (data.clan && data.clan.name.toLowerCase().includes(filters.clan))); // clan can be null\r\n    };\r\n    return filterFunction;\r\n  }\r\n\r\n}\r\n","<div class=\"app-legend table-responsive\">\r\n  <mat-card tourAnchor=\"tour.legend\">\r\n\r\n    <mat-card-header>\r\n      <img mat-card-avatar src=\"/assets/images/cards/legend.png\" [alt]=\"'kingdom.legend.name' | translate\">\r\n      <mat-card-title>{{ 'user.legend.name' | translate }}</mat-card-title>\r\n      <mat-card-subtitle>{{ 'user.legend.description' | translate }}</mat-card-subtitle>\r\n      <div class=\"mat-card-extras\">\r\n        <button mat-icon-button (click)=\"this.tutorialService.start('tour.legend')\"><mat-icon>help</mat-icon></button>\r\n        <mat-chip-list><mat-chip color=\"primary\"><mat-icon>person</mat-icon>{{ data.data.length | long }}</mat-chip></mat-chip-list>\r\n      </div>\r\n    </mat-card-header>\r\n\r\n    <mat-card-content>\r\n      <table mat-table matSort [dataSource]=\"data\" matSortActive=\"timestamp\" matSortDirection=\"desc\" matSortDisableClear [attr.aria-label]=\"'user.legend.name' | translate\">\r\n        <ng-container matColumnDef=\"{{ column }}\" *ngFor=\"let column of columns\">\r\n          <mat-header-cell class=\"table-header\" *matHeaderCellDef>\r\n\r\n            <div mat-sort-header>{{ 'table.column.' + column | translate }}</div>\r\n\r\n            <mat-form-field class=\"table-filter\" *ngIf=\"filters[column] && filters[column].type === 'text'\">\r\n              <input matInput [(ngModel)]=\"filters[column].value\" (keyup)=\"applyFilter()\" autocomplete=\"off\">\r\n              <button mat-button *ngIf=\"filters[column].value\" matSuffix mat-icon-button (click)=\"filters[column].value=''; applyFilter()\">\r\n                <mat-icon>close</mat-icon>\r\n              </button>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"table-filter\" *ngIf=\"filters[column] && filters[column].type === 'timestamp'\">\r\n              <input matInput [(ngModel)]=\"filters[column].value\" [matDatepicker]=\"timestamp\" disabled (dateChange)=\"applyFilter()\">\r\n              <mat-datepicker-toggle matSuffix [for]=\"timestamp\"></mat-datepicker-toggle>\r\n              <mat-datepicker #timestamp disabled=\"false\"></mat-datepicker>\r\n              <button mat-button *ngIf=\"filters[column].value\" matSuffix mat-icon-button (click)=\"filters[column].value=null; applyFilter()\">\r\n                <mat-icon>close</mat-icon>\r\n              </button>\r\n            </mat-form-field>\r\n\r\n          </mat-header-cell>\r\n\r\n          <mat-cell *matCellDef=\"let legend\" [attr.data-label]=\"'table.column.' + column | translate\">\r\n\r\n            <ng-template [ngIf]=\"column === 'name'\">\r\n              <mat-list dense>\r\n                <mat-list-item [ngClass]=\"[legend.faction.id, 'legendary']\">\r\n                  <div mat-list-avatar [matBadge]=\"legend.position | long\" matBadgePosition=\"above before\">\r\n                    <img mat-list-avatar [src]=\"legend.faction.image\" [alt]=\"legend.faction.name | translate\">\r\n                  </div>\r\n                  <div mat-line>{{ legend.name | translate }}</div>\r\n                  <div mat-line class=\"mat-card-subtitle\">{{ legend.faction.name | translate }}</div>\r\n                  <div mat-list-avatar [matBadge]=\"legend.power | short\" matBadgePosition=\"above after\">\r\n                    <img mat-list-avatar src=\"/assets/images/icons/power.png\" [alt]=\"'icon.power.name' | translate\">\r\n                  </div>\r\n                </mat-list-item>\r\n              </mat-list>\r\n            </ng-template>\r\n\r\n            <ng-template [ngIf]=\"column === 'clan'\">\r\n              <mat-list dense *ngIf=\"legend.clan\">\r\n                <mat-list-item>\r\n                  <div mat-list-avatar>\r\n                    <img mat-list-avatar [src]=\"legend.clan.image\" [alt]=\"'kingdom.clan.name' | translate\">\r\n                  </div>\r\n                  <div mat-line>{{ legend.clan.name }}</div>\r\n                  <div mat-line class=\"mat-card-subtitle\">{{ legend.clan.description }}</div>\r\n                </mat-list-item>\r\n              </mat-list>\r\n            </ng-template>\r\n\r\n            <ng-template [ngIf]=\"column === 'timestamp'\">\r\n              {{ legend.timestamp.toMillis() | date }}\r\n            </ng-template>\r\n\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <mat-header-row *matHeaderRowDef=\"columns; sticky: true\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let legend; columns: columns; let i = index\"></mat-row>\r\n      </table>\r\n\r\n      <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-geolocation',\r\n  template: `\r\n    <div class=\"dialog-title\">\r\n      <h1 mat-dialog-title>{{ 'user.geolocation.name' | translate }}</h1>\r\n    </div>\r\n    <div mat-dialog-content [innerHTML]=\"'user.geolocation.description' | translate\"></div>\r\n    <div mat-dialog-actions>\r\n      <button mat-raised-button color=\"primary\" (click)=\"close()\" cdkFocusInitial>{{ 'user.geolocation.close' | translate }}</button>\r\n    </div>\r\n  `,\r\n  styles: [\r\n  ],\r\n})\r\nexport class GeolocationComponent {\r\n\r\n  constructor(\r\n    private dialogRef: MatDialogRef<GeolocationComponent>,\r\n  ) { }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { MatTabChangeEvent } from '@angular/material/tabs';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { LoginWithGoogleAction } from 'src/app/shared/auth/auth.actions';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { CacheService } from 'src/app/services/cache.service';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { GeolocationComponent } from './geolocation.component';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  form: FormGroup;\r\n  types =  ['login', 'signup', 'reset'] as const;\r\n  type = 'login';\r\n  message: string;\r\n  factions: any[] = [];\r\n\r\n  constructor(\r\n    public angularFireAuth: AngularFireAuth,\r\n    private formBuilder: FormBuilder,\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private apiService: ApiService,\r\n    private cacheService: CacheService,\r\n    private loadingService: LoadingService,\r\n    private dialog: MatDialog,\r\n  ) {\r\n    this.createForm();\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    const factions = await this.cacheService.getFactions();\r\n    this.factions = factions.filter((faction: any) => faction.id !== 'grey');\r\n  }\r\n\r\n  async createForm() {\r\n    this.form = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      username: ['', this.type === 'signup' ? [Validators.required, Validators.minLength(6), Validators.maxLength(12)] : []],\r\n      password: ['', this.type !== 'reset' ? [Validators.required, Validators.minLength(6), Validators.maxLength(12)] : []],\r\n      password2: ['', this.type === 'signup' ? [Validators.required, Validators.minLength(6), Validators.maxLength(12), this.matchValues('password')] : []],\r\n      faction: [null, this.type === 'signup' ? [Validators.required] : []],\r\n    });\r\n  }\r\n\r\n  changeType($event: MatTabChangeEvent) {\r\n    this.type = this.types[$event.index];\r\n    this.createForm();\r\n    if (this.type === 'signup') {\r\n      this.dialog.open(GeolocationComponent, {\r\n        panelClass: 'dialog-responsive',\r\n        data: null,\r\n      });\r\n    }\r\n  }\r\n\r\n  matchValues(matchTo: string): (AbstractControl) => ValidationErrors | null {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      return !!control.parent && !!control.parent.value && control.value === control.parent.controls[matchTo].value\r\n        ? null\r\n        : { isMatching: false };\r\n    };\r\n  }\r\n\r\n  async getCurrentPosition() {\r\n    return new Promise((resolve, reject) => {\r\n      navigator.geolocation.getCurrentPosition(resolve, reject, { enableHighAccuracy: true, timeout: 5000, maximumAge: 0 });\r\n    });\r\n  }\r\n\r\n  async login() {\r\n    if (this.form.valid) {\r\n      const email = this.form.value.email;\r\n      const password = this.form.value.password;\r\n      this.loadingService.startLoading();\r\n      try {\r\n        switch (this.type) {\r\n          case 'login':\r\n            await this.angularFireAuth.signInWithEmailAndPassword(email, password);\r\n            break;\r\n          case 'signup':\r\n            const position: any = await this.getCurrentPosition();\r\n            const credentials = await this.angularFireAuth.createUserWithEmailAndPassword(email, password);\r\n            this.apiService.populateMap(position.coords.latitude, position.coords.longitude);\r\n            await this.apiService.createKingdom(credentials.user.uid, this.form.value.faction.id, this.form.value.username, position.coords.latitude, position.coords.longitude);\r\n            break;\r\n          case 'reset':\r\n            await this.angularFireAuth.sendPasswordResetEmail(email);\r\n            this.notificationService.warning('user.login.check');\r\n            break;\r\n        }\r\n      } catch (error){\r\n        await this.angularFireAuth.signOut();\r\n        console.error(error);\r\n        this.notificationService.error('user.login.error');\r\n      }\r\n      this.loadingService.stopLoading();\r\n    }\r\n  }\r\n\r\n  async google() {\r\n    this.store.dispatch(new LoginWithGoogleAction());\r\n  }\r\n\r\n}\r\n","<div class=\"app-login\">\r\n  <form [formGroup]=\"form\" (ngSubmit)=\"login()\" fxLayout=\"row\" fxLayoutAlign=\"center center\">\r\n\r\n    <mat-card fxFlex.xl=\"25\" fxFlex.lg=\"33\" fxFlex.md=\"50\" fxFlex.sm=\"66\" fxFlex.xs=\"100\">\r\n      <mat-card-header>\r\n        <img mat-card-avatar src=\"/assets/images/cards/login.png\" [alt]=\"'user.login.name' | translate\">\r\n        <mat-card-title>{{ 'user.login.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ 'user.login.description' | translate }}</mat-card-subtitle>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content>\r\n        <mat-tab-group mat-align-tabs=\"center\" (selectedTabChange)=\"changeType($event)\">\r\n          <mat-tab *ngFor=\"let type of types\" [label]=\"'user.login.' + type | translate\"></mat-tab>\r\n        </mat-tab-group>\r\n\r\n        <mat-form-field *ngIf=\"type === 'signup'\">\r\n          <mat-label>{{ 'user.login.faction' | translate }}</mat-label>\r\n          <mat-select formControlName=\"faction\">\r\n            <mat-select-trigger *ngIf=\"form.value.faction\">\r\n              <mat-list dense>\r\n                <mat-list-item>\r\n                  <div mat-list-avatar>\r\n                    <img mat-list-avatar [src]=\"form.value.faction.image\" [alt]=\"form.value.faction.name | translate\">\r\n                  </div>\r\n                  <div mat-line>{{ form.value.faction.name | translate }}</div>\r\n                  <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"form.value.faction.description | translate | icon:form.value.faction\"></div>\r\n                </mat-list-item>\r\n              </mat-list>\r\n            </mat-select-trigger>\r\n            <mat-option *ngFor=\"let faction of factions\" [value]=\"faction\">\r\n              <mat-list dense>\r\n                <mat-list-item>\r\n                  <div mat-list-avatar>\r\n                    <img mat-list-avatar [src]=\"faction.image\" [alt]=\"faction.name | translate\">\r\n                  </div>\r\n                  <div mat-line>{{ faction.name | translate }}</div>\r\n                  <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"faction.description | translate | icon:faction\"></div>\r\n                </mat-list-item>\r\n              </mat-list>\r\n            </mat-option>\r\n          </mat-select>\r\n          <mat-error>{{ 'user.login.unfactioned' | translate }}</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field *ngIf=\"type === 'signup'\">\r\n          <input matInput type=\"text\" formControlName=\"username\" placeholder=\"{{ 'user.login.username' | translate }}\" autocomplete=\"off\">\r\n          <mat-error>{{ 'user.login.invalid' | translate }}</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field>\r\n          <input matInput type=\"text\" formControlName=\"email\" placeholder=\"{{ 'user.login.email' | translate }}\" autocomplete=\"off\">\r\n          <mat-error>{{ 'user.login.invalid' | translate }}</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field *ngIf=\"type !== 'reset'\">\r\n          <input matInput type=\"password\" formControlName=\"password\" placeholder=\"{{ 'user.login.password' | translate }}\" autocomplete=\"off\">\r\n          <mat-error>{{ 'user.login.insecure' | translate }}</mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field *ngIf=\"type === 'signup'\">\r\n          <input matInput type=\"password\" formControlName=\"password2\" placeholder=\"{{ 'user.login.password2' | translate }}\" autocomplete=\"off\">\r\n          <mat-error>{{ 'user.login.mismatch' | translate }}</mat-error>\r\n        </mat-form-field>\r\n      </mat-card-content>\r\n\r\n      <mat-card-actions>\r\n        <button mat-stroked-button type=\"button\" (click)=\"google()\" class=\"flag-menu\">\r\n          <img src=\"/assets/images/brands/google.png\" alt=\"Google\">\r\n          <span>Google</span>\r\n        </button>\r\n        <span class=\"fill-space\"></span>\r\n        <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"form.invalid\" cdkFocusInitial>{{ 'user.login.accept' | translate }}</button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n\r\n  </form>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { EncyclopediaComponent } from './encyclopedia/encyclopedia.component';\r\nimport { LandingComponent } from './landing/landing.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: 'landing', component: LandingComponent },\r\n  { path: 'encyclopedia', component: EncyclopediaComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UserRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UserRoutingModule } from './user-routing.module';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { EncyclopediaComponent } from './encyclopedia/encyclopedia.component';\r\nimport { TomeComponent } from './encyclopedia/tome.component';\r\nimport { LandingComponent } from './landing/landing.component';\r\nimport { LegendComponent } from './legend/legend.component';\r\nimport { TourMatMenuModule } from 'ngx-ui-tour-md-menu';\r\nimport { DisqusModule } from 'ngx-disqus';\r\nimport { GeolocationComponent } from './login/geolocation.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent,\r\n    EncyclopediaComponent,\r\n    TomeComponent,\r\n    LandingComponent,\r\n    LegendComponent,\r\n    GeolocationComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    SharedModule,\r\n    UserRoutingModule,\r\n    ReactiveFormsModule,\r\n    TourMatMenuModule,\r\n    DisqusModule,\r\n  ],\r\n})\r\nexport class UserModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}