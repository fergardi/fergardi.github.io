{"version":3,"file":"main-es2015.js","mappings":"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QAC5D,OAAO,CAAC,GAAG,CAAC,4CAA4C,CAAC,CAAC;KAC3D;CACF;KAAM;IACL,SAAS,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;CAC9C;;;;;;;;;;;ACrBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/kingdom/army/army.component.ts","./src/app/kingdom/army/army.component.html","./src/app/kingdom/army/disband.component.ts","./src/app/kingdom/army/recruit.component.ts","./src/app/pipes/icon.pipe.ts","./src/app/pipes/legendary.pipe.ts","./src/app/pipes/long.pipe.ts","./src/app/pipes/short.pipe.ts","./src/app/pipes/turn.pipe.ts","./src/app/services/api.service.ts","./src/app/services/cache.service.ts","./src/app/services/component.service.ts","./src/app/services/dom.service.ts","./src/app/services/firebase.service.ts","./src/app/services/loading.service.ts","./src/app/services/mapbox.service.ts","./src/app/services/notification.service.ts","./src/app/services/tutorial.service.ts","./src/app/shared/auth/auth.actions.ts","./src/app/shared/auth/auth.state.ts","./src/app/shared/custom/paginator.intl.ts","./src/app/shared/shared.module.ts","./src/app/shared/shell/shell.component.ts","./src/app/shared/shell/shell.component.html","./src/app/shared/shell/status.component.ts","./src/app/shared/tour/tour.component.ts","./src/app/shared/tour/tour.component.html","./src/app/shared/type/common.type.ts","./src/app/user/auth.guard.ts","./src/app/world/marker/marker.component.ts","./src/app/world/marker/marker.component.html","./src/app/world/popup/adventure.component.ts","./src/app/world/popup/deal.component.ts","./src/app/world/popup/popup.component.ts","./src/app/world/popup/popup.component.html","./src/environments/environment.ts","./src/hmr.ts","./src/main.ts","./node_modules/moment/locale|sync|/^/.*$"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from './user/auth.guard';\r\n\r\nexport const routes: Routes = [\r\n  { path: '', redirectTo: 'user/landing', pathMatch: 'full' },\r\n  { path: 'user', loadChildren: () => import('./user/user.module').then(m => m.UserModule) },\r\n  { path: 'world', loadChildren: () => import('./world/world.module').then(m => m.WorldModule), canActivate: [AuthGuard] },\r\n  { path: 'kingdom', loadChildren: () => import('./kingdom/kingdom.module').then(m => m.KingdomModule), canActivate: [AuthGuard] },\r\n  { path: '**', redirectTo: '' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(routes, {\r\n      scrollPositionRestoration: 'top',\r\n      // relativeLinkResolution: 'legacy',\r\n      onSameUrlNavigation: 'reload',\r\n      anchorScrolling: 'enabled', // not working https://github.com/angular/angular/issues/33240\r\n    }),\r\n  ],\r\n  exports: [RouterModule],\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit, Inject, PLATFORM_ID } from '@angular/core';\r\nimport { LoadingService } from './services/loading.service';\r\nimport { FirebaseService } from './services/firebase.service';\r\nimport { TutorialService } from './services/tutorial.service';\r\nimport { Router, Scroll, RouterEvent, NavigationEnd } from '@angular/router';\r\nimport { isPlatformBrowser } from '@angular/common';\r\nimport { CollectionType } from './services/cache.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n  constructor(\r\n    private firebaseService: FirebaseService,\r\n    public loadingService: LoadingService,\r\n    private tutorialService: TutorialService,\r\n    private router: Router,\r\n    @Inject(PLATFORM_ID) private platformId: any,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // anchors\r\n    this.router.events.subscribe((event: RouterEvent) => {\r\n      if (event instanceof NavigationEnd && event.url !== '/user/landing') {\r\n        localStorage.setItem('route', event.url);\r\n      }\r\n      if (event instanceof Scroll && event.anchor && isPlatformBrowser(this.platformId)) {\r\n        setTimeout(() => {\r\n          const anchor = document.querySelector('#' + event.anchor);\r\n          if (!anchor) {\r\n            window.scrollTo({ top: 0, behavior: 'smooth' });\r\n          } else {\r\n            anchor.scrollIntoView({ behavior: 'smooth' });\r\n          }\r\n        }, 1000);\r\n      }\r\n    });\r\n    // fixtures\r\n    this.tutorialService.initialize();\r\n    this.firebaseService.loadFixtures([\r\n      // CollectionType.FACTIONS,\r\n      // CollectionType.ATTACKS,\r\n      // CollectionType.CATEGORIES,\r\n      // CollectionType.FAMILIES,\r\n      // CollectionType.GODS,\r\n      // CollectionType.GUILDS,\r\n      // CollectionType.RESOURCES,\r\n      // CollectionType.STRUCTURES,\r\n      // CollectionType.SKILLS,\r\n      CollectionType.UNITS,\r\n      CollectionType.SPELLS,\r\n      CollectionType.ITEMS,\r\n      // CollectionType.HEROES,\r\n      // CollectionType.STORES,\r\n      // CollectionType.LOCATIONS,\r\n      // CollectionType.LEGENDS,\r\n      // CollectionType.PERKS,\r\n      // CollectionType.PACKS,\r\n    ]);\r\n  }\r\n}\r\n","<!-- tour -->\r\n<app-tour></app-tour>\r\n<!-- loading -->\r\n<div class=\"loading-screen\" *ngIf=\"loadingService.loading\">\r\n  <mat-progress-spinner mode=\"indeterminate\"></mat-progress-spinner>\r\n</div>\r\n<!-- shell -->\r\n<app-shell>\r\n  <!-- router -->\r\n  <router-outlet></router-outlet>\r\n</app-shell>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { SharedModule } from './shared/shared.module';\r\nimport { environment } from '../environments/environment';\r\nimport { AngularFireModule } from '@angular/fire';\r\nimport { AngularFirestoreModule } from '@angular/fire/firestore';\r\nimport { AngularFireAuthModule } from '@angular/fire/auth';\r\nimport { AngularFireDatabaseModule } from '@angular/fire/database';\r\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { ErrorStateMatcher, ShowOnDirtyErrorStateMatcher } from '@angular/material/core';\r\nimport { NgxsModule } from '@ngxs/store';\r\nimport { NgxsReduxDevtoolsPluginModule } from '@ngxs/devtools-plugin';\r\nimport { AuthState } from './shared/auth/auth.state';\r\nimport { TourMatMenuModule } from 'ngx-ui-tour-md-menu';\r\nimport { MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { PaginatorIntl } from './shared/custom/paginator.intl';\r\nimport { NgxCurrencyModule } from 'ngx-currency';\r\nimport { DisqusModule } from \"ngx-disqus\";\r\n\r\n// AOT compilation support\r\nexport function httpLoaderFactory(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\n// i18n initializer to force translations to be loaded before startup\r\nexport function appInitializerFactory(translateService: TranslateService): () => Promise<any> {\r\n  return () => {\r\n    translateService.setDefaultLang('es');\r\n    return translateService.use('es').toPromise();\r\n  };\r\n}\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    SharedModule,\r\n    AngularFireModule.initializeApp(environment.firebase),\r\n    AngularFireAuthModule,\r\n    AngularFirestoreModule,\r\n    AngularFireDatabaseModule,\r\n    TranslateModule.forRoot({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: httpLoaderFactory,\r\n        deps: [HttpClient],\r\n      },\r\n      isolate: false,\r\n    }),\r\n    NgxsModule.forRoot(\r\n      [AuthState],\r\n      { developmentMode: !environment.production },\r\n    ),\r\n    NgxsReduxDevtoolsPluginModule.forRoot({\r\n      name: 'Legendarium',\r\n      disabled: environment.production,\r\n    }),\r\n    TourMatMenuModule.forRoot(),\r\n    NgxCurrencyModule,\r\n    DisqusModule.forRoot('legendarium-test'),\r\n  ],\r\n  providers: [\r\n    { provide: ErrorStateMatcher, useClass: ShowOnDirtyErrorStateMatcher },\r\n    { provide: MatPaginatorIntl, useClass: PaginatorIntl },\r\n    { provide: APP_INITIALIZER, useFactory: appInitializerFactory, deps: [TranslateService], multi: true },\r\n  ],\r\n  bootstrap: [\r\n    AppComponent,\r\n  ],\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { fadeInOnEnterAnimation } from 'angular-animations';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { RecruitComponent } from './recruit.component';\r\nimport { DisbandComponent } from './disband.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { combineLatest } from 'rxjs';\r\nimport { TutorialService } from 'src/app/services/tutorial.service';\r\n\r\nexport enum TroopAssignmentType {\r\n  NONE,\r\n  ATTACK,\r\n  DEFENSE,\r\n}\r\n\r\nconst MAXIMUM_TROOPS = 5;\r\n\r\n@Component({\r\n  selector: 'app-army',\r\n  templateUrl: './army.component.html',\r\n  styleUrls: ['./army.component.scss'],\r\n  animations: [fadeInOnEnterAnimation({ duration: 250, delay: 250 })],\r\n})\r\n@UntilDestroy()\r\nexport class ArmyComponent implements OnInit {\r\n\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n  kingdomTroops: any[] = [];\r\n  attackTroops: any[] = [];\r\n  defenseTroops: any[] = [];\r\n  recruitUnits: any[] = [];\r\n\r\n  constructor(\r\n    private angularFirestore: AngularFirestore,\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private dialog: MatDialog,\r\n    private apiService: ApiService,\r\n    private loadingService: LoadingService,\r\n    public tutorialService: TutorialService,\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    combineLatest([\r\n      this.angularFirestore.collection<any>(`kingdoms/${this.uid}/troops`).valueChanges({ idField: 'fid' }),\r\n      this.angularFirestore.collection<any>(`units`, ref => ref.where('recruitable', '==', true)).valueChanges({ idField: 'fid' }),\r\n    ])\r\n    .pipe(untilDestroyed(this))\r\n    .subscribe(([troops, units]) => {\r\n      this.kingdomTroops = troops.filter(troop => troop.assignment === TroopAssignmentType.NONE || !troop.assignment).sort((a, b) => a.sort - b.sort);\r\n      this.attackTroops = troops.filter(troop => troop.assignment === TroopAssignmentType.ATTACK).sort((a, b) => a.sort - b.sort);\r\n      this.defenseTroops = troops.filter(troop => troop.assignment === TroopAssignmentType.DEFENSE).sort((a, b) => a.sort - b.sort);\r\n      this.recruitUnits = units.sort((a, b) => a.gold - b.gold);\r\n    });\r\n  }\r\n\r\n  async assignTroop($event: CdkDragDrop<any>) {\r\n    if ($event.container && (Number($event.container.id) === 0 || $event.previousContainer === $event.container || $event.container.data.length < MAXIMUM_TROOPS)) {\r\n      if ($event.previousContainer === $event.container) {\r\n        moveItemInArray($event.container.data, $event.previousIndex, $event.currentIndex);\r\n      } else {\r\n        transferArrayItem($event.previousContainer.data, $event.container.data, $event.previousIndex, $event.currentIndex);\r\n      }\r\n      await this.updateArmy();\r\n    } else {\r\n      this.notificationService.warning('kingdom.army.maximum');\r\n    }\r\n  }\r\n\r\n  async updateArmy() {\r\n    this.loadingService.startLoading();\r\n    try {\r\n      const army = [];\r\n      this.kingdomTroops.forEach((kingdomTroop, index) => {\r\n        army.push({ troopId: kingdomTroop.fid, sort: 1000 + index, assignment: TroopAssignmentType.NONE });\r\n      });\r\n      this.attackTroops.forEach((attackTroop, index) => {\r\n        army.push({ troopId: attackTroop.fid, sort: 2000 + index, assignment: TroopAssignmentType.ATTACK });\r\n      });\r\n      this.defenseTroops.forEach((defenseTroop, index) => {\r\n        army.push({ troopId: defenseTroop.fid, sort: 3000 + index, assignment: TroopAssignmentType.DEFENSE });\r\n      });\r\n      const assigned = await this.apiService.assignArmy(this.uid, army);\r\n      this.notificationService.success('kingdom.army.success');\r\n    } catch (error) {\r\n      console.error(error);\r\n      this.notificationService.error('kingdom.army.error');\r\n    }\r\n    this.loadingService.stopLoading();\r\n  }\r\n\r\n  openRecruitDialog(unit: any): void {\r\n    const dialogRef = this.dialog.open(RecruitComponent, {\r\n      panelClass: 'dialog-responsive',\r\n      data: unit,\r\n    });\r\n  }\r\n\r\n  openDisbandDialog(troop: any): void {\r\n    const dialogRef = this.dialog.open(DisbandComponent, {\r\n      panelClass: 'dialog-responsive',\r\n      data: troop,\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"kingdom-army\" fxLayout=\"row wrap\" fxLayoutGap=\"10px grid\" cdkDropListGroup [@fadeInOnEnter]>\r\n\r\n  <div fxFlex.xl=\"33\" fxFlex.lg=\"33\" fxFlex.md=\"50\" fxFlex.sm=\"100\" fxFlex.xs=\"100\">\r\n    <mat-card>\r\n      <mat-card-header>\r\n        <img mat-card-avatar src=\"/assets/images/cards/army.png\" [alt]=\"'kingdom.army.name' | translate\">\r\n        <mat-card-title>{{ 'kingdom.army.name' | translate }}</mat-card-title>\r\n        <mat-card-subtitle>{{ 'kingdom.army.description' | translate }}</mat-card-subtitle>\r\n        <div class=\"mat-card-extras\">\r\n          <button mat-icon-button (click)=\"this.tutorialService.start('tour.army')\"><mat-icon>help</mat-icon></button>\r\n          <mat-chip-list><mat-chip color=\"primary\"><mat-icon>filter_9_plus</mat-icon>{{ 'kingdom.army.max' | translate }}</mat-chip></mat-chip-list>\r\n        </div>\r\n      </mat-card-header>\r\n\r\n      <mat-card-content>\r\n        <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n        <mat-action-list dense class=\"dotted\" id=\"0\" tourAnchor=\"tour.army\" cdkDropList cdkDropListOrientation=\"vertical\" (cdkDropListDropped)=\"assignTroop($event)\" [cdkDropListData]=\"kingdomTroops\">\r\n          <button mat-list-item *ngFor=\"let troop of kingdomTroops\" cdkDrag class=\"handle\" [id]=\"troop.fid\" (click)=\"openDisbandDialog(troop)\" [ngClass]=\"[troop.unit.faction.id, troop.unit.legendary ? 'legendary' : 'common']\">\r\n            <div mat-list-avatar [matBadge]=\"troop.quantity | short\" matBadgePosition=\"above before\">\r\n              <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n            </div>\r\n            <div mat-line>{{ troop.unit.name | translate }}</div>\r\n            <div mat-line class=\"mat-card-subtitle\">\r\n              <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n              <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n              <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n              <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n            </div>\r\n            <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n              <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n            </div>\r\n            <mat-icon>open_with</mat-icon>\r\n          </button>\r\n        </mat-action-list>\r\n      </mat-card-content>\r\n      <mat-card-content>\r\n        <p [innerHTML]=\"'kingdom.army.help' | translate | icon\"></p>\r\n      </mat-card-content>\r\n    </mat-card>\r\n  </div>\r\n\r\n  <div fxFlex.xl=\"66\" fxFlex.lg=\"66\" fxFlex.md=\"50\" fxFlex.sm=\"100\" fxFlex.xs=\"100\">\r\n\r\n    <div fxLayout=\"row wrap\" fxLayoutGap=\"10px grid\">\r\n      <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\">\r\n\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <img mat-card-avatar src=\"/assets/images/cards/attack.png\" [alt]=\"'kingdom.attack.name' | translate\">\r\n            <mat-card-title>{{ 'kingdom.attack.name' | translate }}</mat-card-title>\r\n            <mat-card-subtitle>{{ 'kingdom.attack.description' | translate }}</mat-card-subtitle>\r\n            <div class=\"mat-card-extras\">\r\n              <button mat-icon-button (click)=\"this.tutorialService.start('tour.attack')\"><mat-icon>help</mat-icon></button>\r\n              <mat-chip-list><mat-chip color=\"primary\"><mat-icon>filter_5</mat-icon>{{ 'kingdom.attack.max' | translate }}</mat-chip></mat-chip-list>\r\n            </div>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n            <mat-list dense class=\"dotted\" id=\"1\" tourAnchor=\"tour.attack\" cdkDropList cdkDropListOrientation=\"vertical\" (cdkDropListDropped)=\"assignTroop($event)\" [cdkDropListData]=\"attackTroops\">\r\n              <mat-list-item *ngFor=\"let troop of attackTroops\" cdkDrag class=\"handle\" [id]=\"troop.fid\" [ngClass]=\"troop.unit.faction.id\">\r\n                <div mat-list-avatar [matBadge]=\"troop.quantity | short\" matBadgePosition=\"above before\">\r\n                  <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n                </div>\r\n                <div mat-line>{{ troop.unit.name | translate }}</div>\r\n                <div mat-line class=\"mat-card-subtitle\">\r\n                  <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n                  <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n                  <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n                  <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n                </div>\r\n                <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n                  <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n                </div>\r\n                <mat-icon>open_with</mat-icon>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n          <mat-card-content>\r\n            <p [innerHTML]=\"'kingdom.attack.help' | translate | icon\"></p>\r\n          </mat-card-content>\r\n        </mat-card>\r\n\r\n      </div>\r\n\r\n      <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\">\r\n\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <img mat-card-avatar src=\"/assets/images/cards/defense.png\" [alt]=\"'kingdom.defense.name' | translate\">\r\n            <mat-card-title>{{ 'kingdom.defense.name' | translate }}</mat-card-title>\r\n            <mat-card-subtitle>{{ 'kingdom.defense.description' | translate }}</mat-card-subtitle>\r\n            <div class=\"mat-card-extras\">\r\n              <button mat-icon-button (click)=\"this.tutorialService.start('tour.defense')\"><mat-icon>help</mat-icon></button>\r\n              <mat-chip-list><mat-chip color=\"primary\"><mat-icon>filter_5</mat-icon>{{ 'kingdom.defense.max' | translate }}</mat-chip></mat-chip-list>\r\n            </div>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n            <mat-list dense class=\"dotted\" id=\"2\" tourAnchor=\"tour.defense\" cdkDropList cdkDropListOrientation=\"vertical\" (cdkDropListDropped)=\"assignTroop($event)\" [cdkDropListData]=\"defenseTroops\">\r\n              <mat-list-item *ngFor=\"let troop of defenseTroops\" cdkDrag class=\"handle\" [id]=\"troop.fid\" [ngClass]=\"troop.unit.faction.id\">\r\n                <div mat-list-avatar [matBadge]=\"troop.quantity | short\" matBadgePosition=\"above before\">\r\n                  <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n                </div>\r\n                <div mat-line>{{ troop.unit.name | translate }}</div>\r\n                <div mat-line class=\"mat-card-subtitle\">\r\n                  <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n                  <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n                  <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n                  <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n                </div>\r\n                <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n                  <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n                </div>\r\n                <mat-icon>open_with</mat-icon>\r\n              </mat-list-item>\r\n            </mat-list>\r\n          </mat-card-content>\r\n          <mat-card-content>\r\n            <p [innerHTML]=\"'kingdom.defense.help' | translate | icon\"></p>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n\r\n      <div fxFlex.xl=\"50\" fxFlex.lg=\"50\" fxFlex.md=\"100\" fxFlex.sm=\"100\" fxFlex.xs=\"100\">\r\n\r\n        <mat-card>\r\n          <mat-card-header>\r\n            <img mat-card-avatar src=\"/assets/images/cards/recruit.png\" [alt]=\"'kingdom.recruit.name' | translate\">\r\n            <mat-card-title>{{ 'kingdom.recruit.name' | translate }}</mat-card-title>\r\n            <mat-card-subtitle>{{ 'kingdom.recruit.description' | translate }}</mat-card-subtitle>\r\n            <div class=\"mat-card-extras\">\r\n              <button mat-icon-button (click)=\"this.tutorialService.start('tour.recruit')\"><mat-icon>help</mat-icon></button>\r\n              <mat-chip-list><mat-chip color=\"primary\"><mat-icon>list</mat-icon>{{ recruitUnits.length | long }}</mat-chip></mat-chip-list>\r\n            </div>\r\n          </mat-card-header>\r\n\r\n          <mat-card-content>\r\n            <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n            <mat-action-list dense tourAnchor=\"tour.recruit\">\r\n              <button mat-list-item *ngFor=\"let unit of recruitUnits\" (click)=\"openRecruitDialog(unit)\" class=\"common\">\r\n                <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above before\">\r\n                  <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"unit.image\" [alt]=\"unit.name | translate\">\r\n                </div>\r\n                <div mat-line>{{ unit.name | translate }}</div>\r\n                <div mat-line class=\"mat-card-subtitle\">\r\n                  <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n                  <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n                  <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n                  <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n                </div>\r\n                <div mat-line class=\"mat-card-subtitle\" *ngIf=\"unit.resistances && unit.resistances.length\">\r\n                  <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n                </div>\r\n                <div mat-list-avatar [matBadge]=\"unit.gold | long\" matBadgePosition=\"above after\">\r\n                  <img mat-list-avatar src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\"> [alt]=\"'resource.gold.name' | translate\">\r\n                </div>\r\n              </button>\r\n            </mat-action-list>\r\n          </mat-card-content>\r\n          <mat-card-content>\r\n            <p [innerHTML]=\"'kingdom.recruit.help' | translate | icon\"></p>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n\r\n</div>\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-disband',\r\n  template: `\r\n    <h1 mat-dialog-title>{{ 'kingdom.disband.name' | translate }}</h1>\r\n    <div mat-dialog-content>\r\n      <p [innerHTML]=\"'kingdom.disband.description' | translate | icon\"></p>\r\n      <div matSubheader>{{ 'kingdom.disband.troop' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item [ngClass]=\"[troop.unit.faction.id, troop.unit.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar [matBadge]=\"troop.quantity | long\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"troop.unit.image\">\r\n          </div>\r\n          <div mat-line>{{ troop.unit.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\">\r\n          </div>\r\n          <div mat-list-avatar [matBadge]=\"0\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/turn.png\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </div>\r\n    <div mat-dialog-content>\r\n      <div matSubheader>{{ 'kingdom.disband.platoon' | translate }}:</div>\r\n      <form [formGroup]=\"form\">\r\n        <mat-form-field>\r\n          <mat-label>{{ 'kingdom.disband.quantity' | translate }}</mat-label>\r\n          <input currencyMask placeholder=\"{{ 'kingdom.disband.quantity' | translate }}\" matInput formControlName=\"quantity\">\r\n          <mat-hint>{{ 'kingdom.disband.hint' | translate }}</mat-hint>\r\n          <mat-error>{{ 'kingdom.disband.invalid' | translate }}</mat-error>\r\n        </mat-form-field>\r\n      </form>\r\n    </div>\r\n    <div mat-dialog-content>\r\n      <div matSubheader>{{ 'kingdom.disband.maintenances' | translate }}:</div>\r\n      <mat-chip-list>\r\n        <mat-chip color=\"primary\" selected *ngIf=\"troop.unit.goldMaintenance > 0\"><img class=\"icon\" src=\"/assets/images/resources/gold.png\">{{ 'user.tome.goldMaintenance' | translate:{ number: (troop.unit.goldMaintenance * troop.quantity) | long } }}</mat-chip>\r\n        <mat-chip color=\"primary\" selected *ngIf=\"troop.unit.manaMaintenance > 0\"><img class=\"icon\" src=\"/assets/images/resources/mana.png\">{{ 'user.tome.manaMaintenance' | translate:{ number: (troop.unit.manaMaintenance * troop.quantity) | long } }}</mat-chip>\r\n        <mat-chip color=\"primary\" selected *ngIf=\"troop.unit.populationMaintenance > 0\"><img class=\"icon\" src=\"/assets/images/resources/population.png\">{{ 'user.tome.populationMaintenance' | translate:{ number: (troop.unit.populationMaintenance * troop.quantity) | long } }}</mat-chip>\r\n      </mat-chip-list>\r\n    </div>\r\n    <div mat-dialog-actions>\r\n      <button mat-button (click)=\"close()\">{{ 'kingdom.disband.cancel' | translate }}</button>\r\n      <button mat-raised-button color=\"primary\" [disabled]=\"form.invalid || troop.unit.populationMaintenance > 0\" (click)=\"disband()\">{{ 'kingdom.disband.disband' | translate }}</button>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .mat-form-field {\r\n      width: 100%;\r\n    }\r\n  `],\r\n})\r\nexport class DisbandComponent implements OnInit {\r\n\r\n  form: FormGroup = null;\r\n  uid = this.store.selectSnapshot(AuthState.getUserUID);\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public troop: any,\r\n    private dialogRef: MatDialogRef<DisbandComponent>,\r\n    private formBuilder: FormBuilder,\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private apiService: ApiService,\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      quantity: [this.troop.quantity, [Validators.required, Validators.min(1), Validators.max(this.troop.quantity)]],\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  async disband() {\r\n    if (this.form.valid) {\r\n      this.loadingService.startLoading();\r\n      try {\r\n        const disbanded = await this.apiService.disbandTroop(this.uid, this.troop.fid, this.form.value.quantity);\r\n        this.notificationService.success('kingdom.disband.success', disbanded);\r\n        this.close();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.notificationService.error('kingdom.disband.error');\r\n      }\r\n      this.loadingService.stopLoading();\r\n    } else {\r\n      this.notificationService.error('kingdom.disband.error');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-recruit',\r\n  template: `\r\n    <h1 mat-dialog-title>{{ 'kingdom.recruit.name' | translate }}</h1>\r\n    <div mat-dialog-content>\r\n      <p [innerHTML]=\"'kingdom.recruit.help' | translate | icon\"></p>\r\n      <div matSubheader>{{ 'kingdom.recruit.troop' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item [ngClass]=\"[unit.faction.id, unit.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"unit.image\">\r\n          </div>\r\n          <div mat-line>{{ unit.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of unit.families\" [src]=\"family.image\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of unit.skills\" [src]=\"skill.image\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of unit.categories\" [src]=\"category.image\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"unit.legendary\" src=\"/assets/images/icons/legendary.png\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"unit.resistances && unit.resistances.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of unit.resistances\" [src]=\"category.image\">\r\n          </div>\r\n          <div mat-list-avatar [matBadge]=\"unit.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </div>\r\n    <div mat-dialog-content>\r\n      <div matSubheader>{{ 'kingdom.recruit.platoon' | translate }}:</div>\r\n      <form [formGroup]=\"form\">\r\n        <mat-form-field>\r\n          <mat-label>{{ 'kingdom.recruit.quantity' | translate }}</mat-label>\r\n          <input currencyMask placeholder=\"{{ 'kingdom.recruit.quantity' | translate }}\" matInput formControlName=\"quantity\">\r\n          <mat-hint>{{ 'kingdom.recruit.hint' | translate }}</mat-hint>\r\n          <mat-error>{{ 'kingdom.recruit.invalid' | translate }}</mat-error>\r\n        </mat-form-field>\r\n      </form>\r\n    </div>\r\n    <div mat-dialog-content>\r\n      <div matSubheader>{{ 'kingdom.recruit.costs' | translate }}:</div>\r\n      <mat-chip-list>\r\n        <mat-chip color=\"primary\" selected><img class=\"icon\" src=\"/assets/images/resources/gold.png\">{{ gold() | long}}</mat-chip>\r\n      </mat-chip-list>\r\n    </div>\r\n    <div mat-dialog-actions>\r\n      <button mat-button (click)=\"close()\">{{ 'kingdom.recruit.cancel' | translate }}</button>\r\n      <button mat-raised-button color=\"primary\" [disabled]=\"form.invalid\" (click)=\"recruit()\">{{ 'kingdom.recruit.recruit' | translate }}</button>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .mat-form-field {\r\n      width: 100%;\r\n    }\r\n  `],\r\n})\r\nexport class RecruitComponent implements OnInit {\r\n\r\n  form: FormGroup = null;\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n  kingdomGold: any = this.store.selectSnapshot(AuthState.getKingdomGold);\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public unit: any,\r\n    private dialogRef: MatDialogRef<RecruitComponent>,\r\n    private formBuilder: FormBuilder,\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private apiService: ApiService,\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      quantity: [null, [Validators.required, Validators.min(1), Validators.max(Math.floor(this.kingdomGold.quantity / this.unit.gold))]],\r\n    });\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  gold(): number {\r\n    return this.form.value.quantity * this.unit.gold;\r\n  }\r\n\r\n  async recruit() {\r\n    if (this.form.valid && this.gold() <= this.kingdomGold.quantity) {\r\n      this.loadingService.startLoading();\r\n      try {\r\n        const recruited = await this.apiService.recruitUnit(this.uid, this.unit.id, this.form.value.quantity);\r\n        this.notificationService.success('kingdom.recruit.success', recruited);\r\n        this.close();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.notificationService.error('kingdom.recruit.error');\r\n      }\r\n      this.loadingService.stopLoading();\r\n    } else {\r\n      this.notificationService.error('kingdom.recruit.error');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n@Pipe({\r\n  name: 'icon',\r\n})\r\nexport class IconPipe implements PipeTransform {\r\n\r\n  constructor(\r\n    private domSanitizer: DomSanitizer,\r\n    private translateService: TranslateService,\r\n  ) {}\r\n\r\n  transform(text: string = '', object?: any): SafeHtml {\r\n    if (text && object) {\r\n      const terms = [object.skills || [], object.families || [], object.categories || [], object.units || [], object.resources || [], object.spells || [], object.adjacents || [], object.opposites || [], object.resistances || []].reduce((a, b) => a.concat(b), []);\r\n      terms.forEach((term: any) => text = text.replace(`<${term.id}>`, `<img class=\"icon\" title=\"${this.translateService.instant(term.name)}\" src=\"${term.image}\">`));\r\n    }\r\n    text = (text || '')\r\n    .replace(/<gold>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.gold.name')}\" src=\"/assets/images/resources/gold.png\">`)\r\n    .replace(/<mana>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.mana.name')}\" src=\"/assets/images/resources/mana.png\">`)\r\n    .replace(/<population>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.population.name')}\" src=\"/assets/images/resources/population.png\">`)\r\n    .replace(/<land>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.land.name')}\" src=\"/assets/images/resources/land.png\">`)\r\n    .replace(/<turn>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.turn.name')}\" src=\"/assets/images/resources/turn.png\">`)\r\n    .replace(/<gem>/g, `<img class=\"icon\" title=\"${this.translateService.instant('resource.gem.name')}\" src=\"/assets/images/resources/gem.png\">`)\r\n    .replace(/<power>/g, `<img class=\"icon\" title=\"${this.translateService.instant('icon.power.name')}\" src=\"/assets/images/icons/power.png\">`)\r\n    .replace(/<attack>/g, `<img class=\"icon\" title=\"${this.translateService.instant('type.attack.name')}\" src=\"/assets/images/icons/attack.png\">`)\r\n    .replace(/<defense>/g, `<img class=\"icon\" title=\"${this.translateService.instant('type.defense.name')}\" src=\"/assets/images/icons/defense.png\">`)\r\n    .replace(/<health>/g, `<img class=\"icon\" title=\"${this.translateService.instant('type.health.name')}\" src=\"/assets/images/icons/health.png\">`)\r\n    .replace(/<initiative>/g, `<img class=\"icon\" title=\"${this.translateService.instant('type.initiative.name')}\" src=\"/assets/images/icons/initiative.png\">`)\r\n    .replace(/<skeleton>/g, `<img class=\"icon\" title=\"${this.translateService.instant('unit.skeleton.name')}\" src=\"/assets/images/units/black/skeleton.png\">`)\r\n    .replace(/<sheep>/g, `<img class=\"icon\" title=\"${this.translateService.instant('unit.sheep.name')}\" src=\"/assets/images/units/grey/sheep.png\">`);\r\n    return this.domSanitizer.bypassSecurityTrustHtml(text);\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'legendary',\r\n})\r\nexport class LegendaryPipe implements PipeTransform {\r\n\r\n  transform(object: any): boolean {\r\n    // return object && object.categories && object.categories.length && object.categories.find((category: any) => category.id === 'legendary') !== undefined;\r\n    return object && object.legendary;\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'long',\r\n})\r\nexport class LongPipe implements PipeTransform {\r\n\r\n  constructor() {}\r\n\r\n  transform(value: number, decimals: number = 2): string {\r\n    return value !== undefined && value !== null\r\n      ? value.toLocaleString('de-DE', { // de-DE is the only locale that allows showing a thousand separator under 10.000\r\n          useGrouping: true,\r\n          minimumIntegerDigits: 1,\r\n          minimumFractionDigits: value % 1 !== 0 ? decimals : 0,\r\n          maximumFractionDigits: value % 1 !== 0 ? decimals : 0,\r\n        })\r\n      : '';\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'short',\r\n})\r\nexport class ShortPipe implements PipeTransform {\r\n\r\n  transform(value: number, decimals: number = 1): string {\r\n    if (Number.isNaN(value)) return null;\r\n    if (value < 1000) return value.toString();\r\n    const suffixes = ['K', 'M', 'G', 'T', 'P', 'E'];\r\n    const exp = Math.floor(Math.log(value) / Math.log(1000));\r\n    return (value / Math.pow(1000, exp)).toFixed(decimals) + suffixes[exp - 1];\r\n  }\r\n\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { Select } from '@ngxs/store';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Pipe({\r\n  name: 'turn',\r\n})\r\nexport class TurnPipe implements PipeTransform {\r\n\r\n  @Select((state: any) => state.auth.clock) clock$: Observable<Date>;\r\n\r\n  transform(timestamp: any, max: number, ratio: number): Observable<number> {\r\n    return this.clock$.pipe(\r\n      map(time => {\r\n        return calculate(timestamp.toMillis(), time, max, ratio);\r\n      }),\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport const calculate = (from: any, to: any, max: number, ratio: number): number => {\r\n  const start = moment(from);\r\n  const end = moment(to);\r\n  const minutes = moment.duration(end.diff(start)).asMinutes();\r\n  return max\r\n    ? Math.min(max, Math.floor(minutes / ratio))\r\n    : Math.floor(minutes / ratio);\r\n};\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { StoreType, LocationType, FactionType } from 'src/app/shared/type/common.type';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ApiService {\r\n\r\n  constructor(\r\n    private httpClient: HttpClient,\r\n  ) { }\r\n\r\n  createKingdom(kingdomId: string, factionId: string, name: string, latitude: number, longitude: number): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/world/kingdom`, {\r\n      kingdomId: kingdomId,\r\n      name: name,\r\n      factionId: factionId,\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n    }).toPromise();\r\n  }\r\n\r\n  exploreLand(kingdomId: string, turns: number): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/explore/${turns}`).toPromise();\r\n  }\r\n\r\n  chargeMana(kingdomId: string, turns: number): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/charge/${turns}`).toPromise();\r\n  }\r\n\r\n  taxGold(kingdomId: string, turns: number): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/tax/${turns}`).toPromise();\r\n  }\r\n\r\n  recruitUnit(kingdomId: string, unitId: string, quantity: number): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/army/${unitId}/recruit/${quantity}`).toPromise();\r\n  }\r\n\r\n  disbandTroop(kingdomId: string, troopId: string, quantity: number): Promise<any> {\r\n    return this.httpClient.delete(`${environment.functions.url}/kingdom/${kingdomId}/army/${troopId}/disband/${quantity}`, undefined).toPromise();\r\n  }\r\n\r\n  dischargeContract(kingdomId: string, contractId: string): Promise<any> {\r\n    return this.httpClient.delete(`${environment.functions.url}/kingdom/${kingdomId}/tavern/${contractId}/discharge`, undefined).toPromise();\r\n  }\r\n\r\n  researchCharm(kingdomId: string, charmId: string, turns: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/sorcery/${charmId}/research/${turns}`, undefined).toPromise();\r\n  }\r\n\r\n  conjureCharm(kingdomId: string, charmId: string, targetId: string): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/kingdom/${kingdomId}/sorcery/${charmId}/conjure/${targetId}`, undefined).toPromise();\r\n  }\r\n\r\n  activateArtifact(kingdomId: string, artifactId: string, targetId: string): Promise<any> {\r\n    return this.httpClient.request('delete', `${environment.functions.url}/kingdom/${kingdomId}/sorcery/${artifactId}/activate/${targetId}`, undefined).toPromise();\r\n  }\r\n\r\n  bidAuction(kingdomId: string, auctionId: string, gold: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/auction/${auctionId}/bid/${gold}`, undefined).toPromise();\r\n  }\r\n\r\n  offerGod(kingdomId: string, godId: string, gold: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/temple/${godId}/offer/${gold}`, undefined).toPromise();\r\n  }\r\n\r\n  buildStructure(kingdomId: string, buildingId: string, quantity: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/city/${buildingId}/build/${quantity}`, undefined).toPromise();\r\n  }\r\n\r\n  demolishStructure(kingdomId: string, buildingId: string, quantity: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/city/${buildingId}/demolish/${quantity}`, undefined).toPromise();\r\n  }\r\n\r\n  assignContract(kingdomId: string, contractId: string, assignmentId: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/tavern/${contractId}/assign/${assignmentId}`, undefined).toPromise();\r\n  }\r\n\r\n  assignArmy(kingdomId: string, army: any[]): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/army`, {\r\n      army: army,\r\n    }).toPromise();\r\n  }\r\n\r\n  buyEmporium(kingdomId: string, itemId: string): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/emporium/${itemId}`).toPromise();\r\n  }\r\n\r\n  battleKingdom(kingdomId: string, targetId: string, battleId: number ): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/kingdom/${kingdomId}/battle/${battleId}/target/${targetId}`, undefined).toPromise();\r\n  }\r\n\r\n  populateMap(latitude: number, longitude: number): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/world/map`, {\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n    }).toPromise();\r\n  }\r\n\r\n  addKingdom(kingdomId: string, factionId: FactionType, latitude: number, longitude: number, name: string): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/world/kingdom`, {\r\n      kingdomId: kingdomId,\r\n      factionId: factionId,\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n      name: name,\r\n    }).toPromise();\r\n  }\r\n\r\n  addShop(fid: string, storeType: StoreType, latitude?: number, longitude?: number, name?: string): Promise<any> {\r\n    return this.httpClient.put(`${environment.functions.url}/world/shop`, {\r\n      fid: fid,\r\n      storeType: storeType,\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n      name: name,\r\n    }).toPromise();\r\n  }\r\n\r\n  addQuest(fid: string, locationType: LocationType, latitude?: number, longitude?: number, name?: string): Promise<any> {\r\n    return this.httpClient.put(`${environment.functions.url}/world/quest`, {\r\n      fid: fid,\r\n      locationType: locationType,\r\n      latitude: latitude,\r\n      longitude: longitude,\r\n      name: name,\r\n    }).toPromise();\r\n  }\r\n\r\n  refreshAuction(): Promise<any> {\r\n    return this.httpClient.put(`${environment.functions.url}/world/auction`, undefined).toPromise();\r\n  }\r\n\r\n  sendLetter(kingdomId: string, subject: string, message: string, fromId: string): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/kingdom/${kingdomId}/archive`, {\r\n      subject: subject,\r\n      message: message,\r\n      fromId: fromId,\r\n    }).toPromise();\r\n  }\r\n\r\n  readLetter(kingdomId: string, letterId: string): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/archive/${letterId}`, undefined).toPromise();\r\n  }\r\n\r\n  removeLetters(kingdomId: string, letterIds: string[]): Promise<any> {\r\n    return this.httpClient.delete(`${environment.functions.url}/kingdom/${kingdomId}/archive`, {\r\n      body: {\r\n        letterIds: letterIds,\r\n      },\r\n    }).toPromise();\r\n  }\r\n\r\n  favorGuild(kingdomId: string, guildId: string): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/guild/${guildId}`, undefined).toPromise();\r\n  }\r\n\r\n  foundateClan(kingdomId: string, name: string, description: string, image: string): Promise<any> {\r\n    return this.httpClient.put(`${environment.functions.url}/world/clan`, {\r\n      kingdomId: kingdomId,\r\n      name: name,\r\n      description: description,\r\n      image: image,\r\n    }).toPromise();\r\n  }\r\n\r\n  joinClan(kingdomId: string, clanId: string): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/clan/${clanId}/join`, undefined).toPromise();\r\n  }\r\n\r\n  leaveClan(kingdomId: string, clanId: string): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/clan/${clanId}/leave`, undefined).toPromise();\r\n  }\r\n\r\n  assignCharm(kingdomId: string, charmId: string, assignmentId: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/sorcery/charm/${charmId}/assign/${assignmentId}`, undefined).toPromise();\r\n  }\r\n\r\n  assignArtifact(kingdomId: string, artifactId: string, assignmentId: number): Promise<any> {\r\n    return this.httpClient.patch(`${environment.functions.url}/kingdom/${kingdomId}/sorcery/artifact/${artifactId}/assign/${assignmentId}`, undefined).toPromise();\r\n  }\r\n\r\n  dispelIncantation(kingdomId: string, incantationId: string): Promise<any> {\r\n    return this.httpClient.delete(`${environment.functions.url}/kingdom/${kingdomId}/temple/${incantationId}/dispel`, undefined).toPromise();\r\n  }\r\n\r\n  breakEnchantment(kingdomId: string, enchantmentId: string): Promise<any> {\r\n    return this.httpClient.delete(`${environment.functions.url}/kingdom/${kingdomId}/temple/${enchantmentId}/break`, undefined).toPromise();\r\n  }\r\n\r\n  tradeDeal(kingdomId: string, shopId: string, collectionId: string, dealId: string): Promise<any> {\r\n    return this.httpClient.get(`${environment.functions.url}/kingdom/${kingdomId}/world/shop/${shopId}/${collectionId}/${dealId}`).toPromise();\r\n  }\r\n\r\n  adventureQuest(kingdomId: string, questId: string): Promise<any> {\r\n    return this.httpClient.post(`${environment.functions.url}/kingdom/${kingdomId}/world/quest/${questId}`, undefined).toPromise();\r\n  }\r\n\r\n  plantTree(kingdomId: string, tree: any, gems: number): Promise<any> {\r\n    return this.httpClient.put(`${environment.functions.url}/kingdom/${kingdomId}/tree`, {\r\n      tree: tree,\r\n      gems: gems,\r\n    }).toPromise();\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\n\r\nexport enum CollectionType {\r\n  'SKILLS' = 'skills',\r\n  'FACTIONS' = 'factions',\r\n  'UNITS' = 'units',\r\n  'FAMILIES' = 'families',\r\n  'SPELLS' = 'spells',\r\n  'STRUCTURES' = 'structures',\r\n  'CATEGORIES' = 'categories',\r\n  'GODS' = 'gods',\r\n  'HEROES' = 'heroes',\r\n  'RESOURCES' = 'resources',\r\n  'ITEMS' = 'items',\r\n  'STORES' = 'stores',\r\n  'LOCATIONS' = 'locations',\r\n  'PACKS' = 'packs',\r\n  'GUILDS' = 'guilds',\r\n  'ATTACKS' = 'attacks',\r\n  'LEGENDS' = 'legends',\r\n  'PERKS' = 'perks',\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class CacheService {\r\n\r\n  constructor(\r\n    private angularFirestore: AngularFirestore,\r\n  ) { }\r\n\r\n  get(collection: string) {\r\n    switch (collection) {\r\n      case CollectionType.PACKS:\r\n        return this.getPacks();\r\n      case CollectionType.GUILDS:\r\n        return this.getGuilds();\r\n      case CollectionType.ATTACKS:\r\n        return this.getAttacks();\r\n      case CollectionType.SKILLS:\r\n        return this.getSkills();\r\n      case CollectionType.FACTIONS:\r\n        return this.getFactions();\r\n      case CollectionType.UNITS:\r\n        return this.getUnits();\r\n      case CollectionType.FAMILIES:\r\n        return this.getFamilies();\r\n      case CollectionType.SPELLS:\r\n        return this.getSpells();\r\n      case CollectionType.STRUCTURES:\r\n        return this.getStructures();\r\n      case CollectionType.CATEGORIES:\r\n        return this.getCategories();\r\n      case CollectionType.GODS:\r\n        return this.getGods();\r\n      case CollectionType.HEROES:\r\n        return this.getHeroes();\r\n      case CollectionType.RESOURCES:\r\n        return this.getResources();\r\n      case CollectionType.ITEMS:\r\n        return this.getItems();\r\n      case CollectionType.STORES:\r\n        return this.getStores();\r\n      case CollectionType.LOCATIONS:\r\n        return this.getLocations();\r\n      case CollectionType.PERKS:\r\n        return this.getPerks();\r\n    }\r\n  }\r\n\r\n  async getFactions(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.FACTIONS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.FACTIONS).get().toPromise();\r\n      const factions = snapshot.docs.map((faction: any) => faction.data());\r\n      localStorage.setItem(CollectionType.FACTIONS, JSON.stringify([...factions]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.FACTIONS));\r\n  }\r\n\r\n  async getPacks(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.PACKS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.PACKS).get().toPromise();\r\n      const packs = snapshot.docs.map((faction: any) => faction.data());\r\n      localStorage.setItem(CollectionType.PACKS, JSON.stringify([...packs]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.PACKS));\r\n  }\r\n\r\n  async getAttacks(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.ATTACKS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.ATTACKS).get().toPromise();\r\n      const attacks = snapshot.docs.map((attack: any) => attack.data());\r\n      localStorage.setItem(CollectionType.ATTACKS, JSON.stringify([...attacks]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.ATTACKS));\r\n  }\r\n\r\n  async getGuilds(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.GUILDS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.GUILDS).get().toPromise();\r\n      const guilds = snapshot.docs.map((guild: any) => guild.data());\r\n      localStorage.setItem(CollectionType.GUILDS, JSON.stringify([...guilds]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.GUILDS));\r\n  }\r\n\r\n  async getStores(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.STORES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.STORES).get().toPromise();\r\n      const stores = snapshot.docs.map((store: any) => store.data());\r\n      localStorage.setItem(CollectionType.STORES, JSON.stringify([...stores]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.STORES));\r\n  }\r\n\r\n  async getResources(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.RESOURCES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.RESOURCES).get().toPromise();\r\n      const resources = snapshot.docs.map((resource: any) => resource.data());\r\n      localStorage.setItem(CollectionType.RESOURCES, JSON.stringify([...resources]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.RESOURCES));\r\n  }\r\n\r\n  async getStructures(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.STRUCTURES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.STRUCTURES).get().toPromise();\r\n      const structures = snapshot.docs.map((structure: any) => structure.data());\r\n      localStorage.setItem(CollectionType.STRUCTURES, JSON.stringify([...structures]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.STRUCTURES));\r\n  }\r\n\r\n  async getHeroes(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.HEROES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.HEROES).get().toPromise();\r\n      const heroes = snapshot.docs.map((hero: any) => hero.data());\r\n      localStorage.setItem(CollectionType.HEROES, JSON.stringify([...heroes]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.HEROES));\r\n  }\r\n\r\n  async getGods(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.GODS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.GODS).get().toPromise();\r\n      const gods = snapshot.docs.map((god: any) => god.data());\r\n      localStorage.setItem(CollectionType.GODS, JSON.stringify([...gods]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.GODS));\r\n  }\r\n\r\n  async getSkills(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.SKILLS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.SKILLS).get().toPromise();\r\n      const skills = snapshot.docs.map((skill: any) => skill.data());\r\n      localStorage.setItem(CollectionType.SKILLS, JSON.stringify([...skills]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.SKILLS));\r\n  }\r\n\r\n  async getCategories(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.CATEGORIES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.CATEGORIES).get().toPromise();\r\n      const categories = snapshot.docs.map((category: any) => category.data());\r\n      localStorage.setItem(CollectionType.CATEGORIES, JSON.stringify([...categories]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.CATEGORIES));\r\n  }\r\n\r\n  async getFamilies(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.FAMILIES)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.FAMILIES).get().toPromise();\r\n      const families = snapshot.docs.map((family: any) => family.data());\r\n      localStorage.setItem(CollectionType.FAMILIES, JSON.stringify([...families]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.FAMILIES));\r\n  }\r\n\r\n  async getLocations(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.LOCATIONS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.LOCATIONS).get().toPromise();\r\n      const locations = snapshot.docs.map((location: any) => location.data());\r\n      localStorage.setItem(CollectionType.LOCATIONS, JSON.stringify([...locations]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.LOCATIONS));\r\n  }\r\n\r\n  async getUnits(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.UNITS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.UNITS).get().toPromise();\r\n      const units = snapshot.docs.map((unit: any) => unit.data());\r\n      localStorage.setItem(CollectionType.UNITS, JSON.stringify([...units]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.UNITS));\r\n  }\r\n\r\n  async getSpells(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.SPELLS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.SPELLS).get().toPromise();\r\n      const spells = snapshot.docs.map((spell: any) => spell.data());\r\n      localStorage.setItem(CollectionType.SPELLS, JSON.stringify([...spells]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.SPELLS));\r\n  }\r\n\r\n  async getItems(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.ITEMS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.ITEMS).get().toPromise();\r\n      const items = snapshot.docs.map((item: any) => item.data());\r\n      localStorage.setItem(CollectionType.ITEMS, JSON.stringify([...items]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.ITEMS));\r\n  }\r\n\r\n  async getPerks(): Promise<any[]> {\r\n    if (!localStorage.getItem(CollectionType.PERKS)) {\r\n      const snapshot = await this.angularFirestore.collection<any>(CollectionType.PERKS).get().toPromise();\r\n      const perks = snapshot.docs.map((perk: any) => perk.data());\r\n      localStorage.setItem(CollectionType.PERKS, JSON.stringify([...perks]));\r\n    }\r\n    return JSON.parse(localStorage.getItem(CollectionType.PERKS));\r\n  }\r\n}\r\n","import { Injectable, Injector, ApplicationRef, ComponentFactoryResolver, ComponentRef, Type } from '@angular/core';\r\nimport { UntilDestroy } from '@ngneat/until-destroy';\r\n\r\nexport interface InjectableHTML {\r\n  html: HTMLDivElement;\r\n  ref: ComponentRef<any>;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ComponentService {\r\n\r\n  private componentRef: ComponentRef<any>;\r\n\r\n  constructor(\r\n    private injector: Injector,\r\n    private componentFactoryResolver: ComponentFactoryResolver,\r\n    private applicationRef: ApplicationRef,\r\n  ) { }\r\n\r\n  public injectComponent<T>(component: Type<T>, propertySetter?: (type: T) => void): InjectableHTML {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\r\n    UntilDestroy()(component);\r\n    this.componentRef = componentFactory.create(this.injector);\r\n    if (propertySetter) propertySetter(this.componentRef.instance);\r\n    this.applicationRef.attachView(this.componentRef.hostView);\r\n    const div = document.createElement('div');\r\n    div.appendChild(this.componentRef.location.nativeElement);\r\n    return {\r\n      html: div,\r\n      ref: this.componentRef,\r\n    };\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class DomService {\r\n\r\n  constructor() { }\r\n\r\n  public scrollToElement($element: HTMLElement) {\r\n    $element.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'nearest' });\r\n  }\r\n\r\n  public scrollToTop($element: HTMLElement = null) {\r\n    if ($element) {\r\n      $element.scroll(0, 0);\r\n    } else {\r\n      window.scroll(0, 0);\r\n    }\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport * as firebase from 'firebase';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport * as moment from 'moment';\r\nimport { CollectionType } from './cache.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class FirebaseService {\r\n\r\n  attacks: any[] = [];\r\n  factions: any[] = [];\r\n  families: any[] = [];\r\n  categories: any[] = [];\r\n  gods: any[] = [];\r\n  resources: any[] = [];\r\n  skills: any[] = [];\r\n  structures: any[] = [];\r\n  guilds: any[] = [];\r\n  units: any[] = [];\r\n  items: any[] = [];\r\n  stores: any[] = [];\r\n  locations: any[] = [];\r\n  spells: any[] = [];\r\n  heroes: any[] = [];\r\n  kingdoms: any[] = [];\r\n  legends: any[] = [];\r\n  perks: any[] = [];\r\n  packs: any[] = [];\r\n\r\n  joinedAttacks: any[] = [];\r\n  joinedFactions: any[] = [];\r\n  joinedFamilies: any[] = [];\r\n  joinedCategories: any[] = [];\r\n  joinedGods: any[] = [];\r\n  joinedResources: any[] = [];\r\n  joinedSkills: any[] = [];\r\n  joinedStructures: any[] = [];\r\n  joinedGuilds: any[] = [];\r\n  joinedUnits: any[] = [];\r\n  joinedItems: any[] = [];\r\n  joinedStores: any[] = [];\r\n  joinedLocations: any[] = [];\r\n  joinedSpells: any[] = [];\r\n  joinedHeroes: any[] = [];\r\n  joinedLegends: any[] = [];\r\n  joinedPerks: any[] = [];\r\n  joinedPacks: any[] = [];\r\n\r\n  constructor(\r\n    private angularFirestore: AngularFirestore,\r\n    private angularFireAuth: AngularFireAuth,\r\n    private httpClient: HttpClient,\r\n  ) { }\r\n\r\n  async joinFixtures(element: any) {\r\n    // if (element.store) this.joinObject(element, 'store', await this.cacheService.getStores());\r\n    if (element.faction) this.joinObject(element, 'faction', this.joinedFactions);\r\n    if (element.adjacents) this.joinObject(element, 'adjacents', this.factions);\r\n    if (element.opposites) this.joinObject(element, 'opposites', this.factions);\r\n    // if (element.location) this.joinObject(element, 'location', await this.cacheService.getLocations());\r\n    if (element.skills) this.joinObject(element, 'skills', this.skills);\r\n    if (element.unit) this.joinObject(element, 'unit', this.joinedUnits);\r\n    if (element.units) this.joinObject(element, 'units', this.joinedUnits);\r\n    if (element.categories) this.joinObject(element, 'categories', this.categories);\r\n    if (element.resistances) this.joinObject(element, 'resistances', this.categories);\r\n    if (element.families) this.joinObject(element, 'families', this.families);\r\n    if (element.spell) this.joinObject(element, 'spell', this.joinedSpells);\r\n    if (element.spells) this.joinObject(element, 'spells', this.joinedSpells);\r\n    // if (element.hero) this.joinObject(element, 'hero', await this.cacheService.getHeroes());\r\n    // if (element.item) this.joinObject(element, 'item', await this.cacheService.getItems());\r\n    // if (element.items) this.joinObject(element, 'items', await this.cacheService.getItems());\r\n    if (element.resources) this.joinObject(element, 'resources', this.resources);\r\n    if (element.perks) this.joinObject(element, 'perks', this.perks, true);\r\n  }\r\n\r\n  joinObject(element: any, subCollection: string, collection: any[], recursive: boolean = false) {\r\n    if (element[subCollection] instanceof Array) {\r\n      element[subCollection].forEach((subElement: any, subElementIndex: number, subElementArray: any[]) => {\r\n        if (typeof subElement === 'string') {\r\n          element[subCollection][subElementIndex] = JSON.parse(JSON.stringify(collection.find(el => el['id'] === subElement.replace(/^\\+|^\\-|^\\//g, ''))));\r\n          if (recursive) {\r\n            this.joinObject(element[subCollection][subElementIndex], 'perks', this.perks, true);\r\n          }\r\n        }\r\n      });\r\n      element[subCollection] = recursive\r\n        ? element[subCollection].slice().sort((a: any, b: any) => a?.sort - b?.sort)\r\n        : element[subCollection].slice().sort((a: any, b: any) => a?.name.localeCompare(b?.name));\r\n    }\r\n    if (typeof element[subCollection] === 'string') {\r\n      element[subCollection] = JSON.parse(JSON.stringify(collection.find(el => el['id'] === element[subCollection].replace(/^\\+|^\\-|^\\//g, ''))));\r\n    }\r\n  }\r\n\r\n  async readFixtures() {\r\n    this.attacks = await this.httpClient.get<any[]>('assets/fixtures/attacks.json').toPromise();\r\n    this.factions = await this.httpClient.get<any[]>('assets/fixtures/factions.json').toPromise();\r\n    this.families = await this.httpClient.get<any[]>('assets/fixtures/families.json').toPromise();\r\n    this.categories = await this.httpClient.get<any[]>('assets/fixtures/categories.json').toPromise();\r\n    this.gods = await this.httpClient.get<any[]>('assets/fixtures/gods.json').toPromise();\r\n    this.resources = await this.httpClient.get<any[]>('assets/fixtures/resources.json').toPromise();\r\n    this.skills = await this.httpClient.get<any[]>('assets/fixtures/skills.json').toPromise();\r\n    this.structures = await this.httpClient.get<any[]>('assets/fixtures/structures.json').toPromise();\r\n    this.guilds = await this.httpClient.get<any[]>('assets/fixtures/guilds.json').toPromise();\r\n    this.units = await this.httpClient.get<any[]>('assets/fixtures/units.json').toPromise();\r\n    this.items = await this.httpClient.get<any[]>('assets/fixtures/items.json').toPromise();\r\n    this.stores = await this.httpClient.get<any[]>('assets/fixtures/stores.json').toPromise();\r\n    this.locations = await this.httpClient.get<any[]>('assets/fixtures/locations.json').toPromise();\r\n    this.spells = await this.httpClient.get<any[]>('assets/fixtures/spells.json').toPromise();\r\n    this.heroes = await this.httpClient.get<any[]>('assets/fixtures/heroes.json').toPromise();\r\n    this.legends = await this.httpClient.get<any[]>('assets/fixtures/legends.json').toPromise();\r\n    this.perks = await this.httpClient.get<any[]>('assets/fixtures/perks.json').toPromise();\r\n    this.packs = await this.httpClient.get<any[]>('assets/fixtures/packs.json').toPromise();\r\n  }\r\n\r\n  async importFixtures(collection: string, elements: any[], batch: firebase.firestore.WriteBatch) {\r\n    elements.forEach((element: any, index: number) => {\r\n      element.random = index;\r\n      if (element.timestamp) {\r\n        element.timestamp = moment(element.timestamp, 'DD/MM/YYYY', true).toDate();\r\n      }\r\n      batch.set(this.angularFirestore.collection(collection).doc(element.id).ref, element);\r\n    });\r\n  }\r\n\r\n  loadFixtures(fixtures: CollectionType[]) {\r\n    this.angularFireAuth.authState.subscribe(async user => {\r\n      if (user && fixtures.length) {\r\n        const batch = this.angularFirestore.firestore.batch();\r\n        await this.readFixtures();\r\n        this.joinedFactions = JSON.parse(JSON.stringify(this.factions));\r\n        this.joinedFactions.forEach(faction => this.joinFixtures(faction));\r\n        if (fixtures.includes(CollectionType.FACTIONS)) {\r\n          console.log(`Loading ${CollectionType.FACTIONS}...`);\r\n          this.importFixtures(CollectionType.FACTIONS, this.joinedFactions, batch);\r\n        }\r\n        this.joinedAttacks = JSON.parse(JSON.stringify(this.attacks));\r\n        this.joinedAttacks.forEach(attack => this.joinFixtures(attack));\r\n        if (fixtures.includes(CollectionType.ATTACKS)) {\r\n          console.log(`Loading ${CollectionType.ATTACKS}...`);\r\n          this.importFixtures(CollectionType.ATTACKS, this.joinedAttacks, batch);\r\n        }\r\n        this.joinedGuilds = JSON.parse(JSON.stringify(this.guilds));\r\n        this.joinedGuilds.forEach(guild => this.joinFixtures(guild));\r\n        if (fixtures.includes(CollectionType.GUILDS)) {\r\n          console.log(`Loading ${CollectionType.GUILDS}...`);\r\n          this.importFixtures(CollectionType.GUILDS, this.joinedGuilds, batch);\r\n        }\r\n        this.joinedFamilies = JSON.parse(JSON.stringify(this.families));\r\n        this.joinedFamilies.forEach(family => this.joinFixtures(family));\r\n        if (fixtures.includes(CollectionType.FAMILIES)) {\r\n          console.log(`Loading ${CollectionType.FAMILIES}...`);\r\n          this.importFixtures(CollectionType.FAMILIES, this.joinedFamilies, batch);\r\n        }\r\n        this.joinedCategories = JSON.parse(JSON.stringify(this.categories));\r\n        this.joinedCategories.forEach(category => this.joinFixtures(category));\r\n        if (fixtures.includes(CollectionType.CATEGORIES)) {\r\n          console.log(`Loading ${CollectionType.CATEGORIES}...`);\r\n          this.importFixtures(CollectionType.CATEGORIES, this.joinedCategories, batch);\r\n        }\r\n        this.joinedGods = JSON.parse(JSON.stringify(this.gods));\r\n        this.joinedGods.forEach(god => this.joinFixtures(god));\r\n        if (fixtures.includes(CollectionType.GODS)) {\r\n          console.log(`Loading ${CollectionType.GODS}...`);\r\n          this.importFixtures(CollectionType.GODS, this.joinedGods, batch);\r\n        }\r\n        this.joinedResources = JSON.parse(JSON.stringify(this.resources));\r\n        this.joinedResources.forEach(resource => this.joinFixtures(resource));\r\n        if (fixtures.includes(CollectionType.RESOURCES)) {\r\n          console.log(`Loading ${CollectionType.RESOURCES}...`);\r\n          this.importFixtures(CollectionType.RESOURCES, this.joinedResources, batch);\r\n        }\r\n        this.joinedStructures = JSON.parse(JSON.stringify(this.structures));\r\n        this.joinedStructures.forEach(structure => this.joinFixtures(structure));\r\n        if (fixtures.includes(CollectionType.STRUCTURES)) {\r\n          console.log(`Loading ${CollectionType.STRUCTURES}...`);\r\n          this.importFixtures(CollectionType.STRUCTURES, this.joinedStructures, batch);\r\n        }\r\n        this.joinedSkills = JSON.parse(JSON.stringify(this.skills));\r\n        this.joinedSkills.forEach(skill => this.joinFixtures(skill));\r\n        if (fixtures.includes(CollectionType.SKILLS)) {\r\n          console.log(`Loading ${CollectionType.SKILLS}...`);\r\n          this.importFixtures(CollectionType.SKILLS, this.joinedSkills, batch);\r\n        }\r\n        this.joinedUnits = JSON.parse(JSON.stringify(this.units));\r\n        this.joinedUnits.forEach(unit => this.joinFixtures(unit));\r\n        if (fixtures.includes(CollectionType.UNITS)) {\r\n          console.log(`Loading ${CollectionType.UNITS}...`);\r\n          this.importFixtures(CollectionType.UNITS, this.joinedUnits, batch);\r\n        }\r\n        this.joinedSpells = JSON.parse(JSON.stringify(this.spells));\r\n        this.joinedSpells.forEach(spell => this.joinFixtures(spell));\r\n        if (fixtures.includes(CollectionType.SPELLS)) {\r\n          console.log(`Loading ${CollectionType.SPELLS}...`);\r\n          this.importFixtures(CollectionType.SPELLS, this.joinedSpells, batch);\r\n        }\r\n        this.joinedItems = JSON.parse(JSON.stringify(this.items));\r\n        this.joinedItems.forEach(item => this.joinFixtures(item));\r\n        if (fixtures.includes(CollectionType.ITEMS)) {\r\n          console.log(`Loading ${CollectionType.ITEMS}...`);\r\n          this.importFixtures(CollectionType.ITEMS, this.joinedItems, batch);\r\n        }\r\n        this.joinedHeroes = JSON.parse(JSON.stringify(this.heroes));\r\n        this.joinedHeroes.forEach(hero => this.joinFixtures(hero));\r\n        if (fixtures.includes(CollectionType.HEROES)) {\r\n          console.log(`Loading ${CollectionType.HEROES}...`);\r\n          this.importFixtures(CollectionType.HEROES, this.joinedHeroes, batch);\r\n        }\r\n        this.joinedStores = JSON.parse(JSON.stringify(this.stores));\r\n        this.joinedStores.forEach(store => this.joinFixtures(store));\r\n        if (fixtures.includes(CollectionType.STORES)) {\r\n          console.log(`Loading ${CollectionType.STORES}...`);\r\n          this.importFixtures(CollectionType.STORES, this.joinedStores, batch);\r\n        }\r\n        this.joinedLocations = JSON.parse(JSON.stringify(this.locations));\r\n        this.joinedLocations.forEach(quest => this.joinFixtures(quest));\r\n        if (fixtures.includes(CollectionType.LOCATIONS)) {\r\n          console.log(`Loading ${CollectionType.LOCATIONS}...`);\r\n          this.importFixtures(CollectionType.LOCATIONS, this.joinedLocations, batch);\r\n        }\r\n        this.joinedLegends = JSON.parse(JSON.stringify(this.legends));\r\n        this.joinedLegends.forEach(legend => this.joinFixtures(legend));\r\n        if (fixtures.includes(CollectionType.LEGENDS)) {\r\n          console.log(`Loading ${CollectionType.LEGENDS}...`);\r\n          this.importFixtures(CollectionType.LEGENDS, this.joinedLegends, batch);\r\n        }\r\n        this.joinedPerks = JSON.parse(JSON.stringify(this.perks));\r\n        this.joinedPerks.forEach(perk => this.joinFixtures(perk));\r\n        if (fixtures.includes(CollectionType.PERKS)) {\r\n          console.log(`Loading ${CollectionType.PERKS}...`);\r\n          this.importFixtures(CollectionType.PERKS, this.joinedPerks, batch);\r\n        }\r\n        this.joinedPacks = JSON.parse(JSON.stringify(this.packs));\r\n        this.joinedPacks.forEach(pack => this.joinFixtures(pack));\r\n        if (fixtures.includes(CollectionType.PACKS)) {\r\n          console.log(`Loading ${CollectionType.PACKS}...`);\r\n          this.importFixtures(CollectionType.PACKS, this.joinedPacks, batch);\r\n        }\r\n        await batch.commit();\r\n        console.log('Fixtures loaded!');\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class LoadingService {\r\n\r\n  public loading: boolean = false; // spinner\r\n\r\n  constructor() { }\r\n\r\n  startLoading(): void {\r\n    this.loading = true;\r\n  }\r\n\r\n  stopLoading(): void {\r\n    this.loading = false;\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { environment } from '../../environments/environment';\r\nimport * as mapboxgl from 'mapbox-gl';\r\nimport { ComponentService, InjectableHTML } from '../services/component.service';\r\nimport MapboxCircle from 'mapbox-gl-circle';\r\nimport { MarkerComponent } from '../world/marker/marker.component';\r\nimport { PopupComponent } from '../world/popup/popup.component';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from '../shared/auth/auth.state';\r\nimport { ApiService } from './api.service';\r\nimport * as _ from 'lodash';\r\nimport { MarkerType, FactionType, StoreType, LocationType } from '../shared/type/common.type';\r\nimport { NotificationService } from './notification.service';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { Subscription } from 'rxjs';\r\n\r\nexport interface Marker {\r\n  id: string;\r\n  type: MarkerType;\r\n  marker: mapboxgl.Marker;\r\n  circle: MapboxCircle;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class MapboxService {\r\n\r\n  private mapbox = (mapboxgl as typeof mapboxgl);\r\n  public map: mapboxgl.Map = null;\r\n  public markers: Marker[] = [];\r\n  private offset: number = 10;\r\n  private uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n  private primaryColor: string = null;\r\n\r\n  constructor(\r\n    private componentService: ComponentService,\r\n    private store: Store,\r\n    private apiService: ApiService,\r\n    private notificationService: NotificationService,\r\n  ) {\r\n    this.mapbox.accessToken = environment.mapbox.token;\r\n  }\r\n\r\n  initialize(container: string | HTMLElement) {\r\n    this.primaryColor = window.getComputedStyle(document.body).getPropertyValue('--primary-color');\r\n    this.map = new mapboxgl.Map({\r\n      container: container,\r\n      style: environment.mapbox.style + '?optimize=true',\r\n      center: [environment.mapbox.lng, environment.mapbox.lat],\r\n      pitch: environment.mapbox.pitch,\r\n      zoom: environment.mapbox.zoom,\r\n      antialias: false,\r\n      dragPan: true,\r\n      dragRotate: true,\r\n      attributionControl: true,\r\n      interactive: true,\r\n    });\r\n    this.map.once('load', () => {\r\n      // add fog https://docs.mapbox.com/mapbox-gl-js/example/add-fog/\r\n      this.map.setFog({\r\n        range: [0.5, 10.0],\r\n        color: '#FFFFFF',\r\n        'horizon-blend': 0.1,\r\n      });\r\n      // add the DEM source as a terrain layer\r\n      this.map.addSource('mapbox-dem', {\r\n        type: 'raster-dem',\r\n        url: 'mapbox://mapbox.terrain-rgb',\r\n        tileSize: 512,\r\n        maxzoom: environment.mapbox.zoom,\r\n      });\r\n      // add the DEM source as a terrain layer with exaggerated height\r\n      this.map.setTerrain({\r\n        source: 'mapbox-dem',\r\n        exaggeration: 3,\r\n      });\r\n      // add a sky layer that will show when the map is highly pitched\r\n      this.map.addLayer({\r\n        id: 'sky-day',\r\n        type: 'sky',\r\n        paint: {\r\n          'sky-type': 'gradient',\r\n        },\r\n      });\r\n    });\r\n    this.map.on('moveend', () => this.refreshMarkers());\r\n  }\r\n\r\n  markerVisible(marker: Marker): boolean {\r\n    const lngLat: mapboxgl.LngLat = marker.marker.getLngLat();\r\n    return lngLat && lngLat.lat && lngLat.lng\r\n      ? this.map.getBounds().contains(lngLat)\r\n      : false;\r\n  }\r\n\r\n  refreshMarkers(): void {\r\n    this.markers.forEach((marker: Marker) => {\r\n      console.log(marker, this.uid)\r\n      if (marker.id !== this.uid && (this.map.getZoom() < environment.mapbox.zoom || !this.markerVisible(marker))) {\r\n        marker.marker.getElement().style.display = 'none';\r\n      } else {\r\n        marker.marker.getElement().style.display = 'block';\r\n      }\r\n    });\r\n  }\r\n\r\n  addMarker(data: any, type: MarkerType, radius: boolean = false, fly: boolean = false): mapboxgl.Marker {\r\n    // remove the old one\r\n    this.removeMarker(data.id);\r\n    // size\r\n    const size = type === MarkerType.KINGDOM ? 70 : 44;\r\n    // marker\r\n    const m: InjectableHTML = this.componentService.injectComponent(MarkerComponent, component => component.data = { ...data, size: size, type: type });\r\n    let marker = new mapboxgl.Marker(m.html, { anchor: 'bottom' })\r\n    .setLngLat({ lat: data.coordinates.latitude, lng: data.coordinates.longitude })\r\n    .addTo(this.map);\r\n    // popup\r\n    let p: InjectableHTML = null;\r\n    let s: Subscription = null;\r\n    marker = marker.setPopup(new mapboxgl.Popup({\r\n      offset: [0, -(size + this.offset)],\r\n      anchor: 'bottom',\r\n      closeButton: false,\r\n      closeOnClick: true,\r\n      closeOnMove: false,\r\n      maxWidth: 'none',\r\n      className: 'dialog-responsive',\r\n    })\r\n    .setDOMContent(document.createElement('div') as HTMLDivElement)\r\n    // open\r\n    .on('open', ($event: any) => {\r\n      p = this.componentService.injectComponent(PopupComponent, component => component.data = { ...data, type: type });\r\n      p.ref.changeDetectorRef.detectChanges();\r\n      marker.getPopup().setDOMContent(p.html);\r\n      s = (p.ref.instance as PopupComponent).opened\r\n      .asObservable()\r\n      .pipe(distinctUntilChanged())\r\n      .subscribe(async (open: boolean) => {\r\n        if (open) {\r\n          await new Promise(resolve => setTimeout(resolve, 500));\r\n          this.map.easeTo({\r\n            center: $event.target.getLngLat(),\r\n            offset: [0, ($event.target.getElement().clientHeight / 2) + this.offset],\r\n          });\r\n        }\r\n      });\r\n    })\r\n    // close\r\n    .on('close', () => {\r\n      marker.getPopup().setDOMContent(document.createElement('div') as HTMLDivElement);\r\n      if (p && p.ref) {\r\n        p.ref.destroy();\r\n        p = null;\r\n      }\r\n      if (s) {\r\n        s.unsubscribe();\r\n        s = null;\r\n      }\r\n    }));\r\n    // radius\r\n    let circle = null;\r\n    if (radius) {\r\n      circle = new MapboxCircle({ lat: data.coordinates.latitude, lng: data.coordinates.longitude }, Math.max(1000, data.power), {\r\n        editable: false,\r\n        fillColor: this.primaryColor,\r\n        fillOpacity: 0.2,\r\n        strokeColor: this.primaryColor,\r\n        strokeWeight: 1,\r\n        strokeOpacity: 1,\r\n        refineStroke : false,\r\n      });\r\n      circle.addTo(this.map);\r\n    }\r\n    // center\r\n    if (fly) {\r\n      this.goTo(data.coordinates.latitude, data.coordinates.longitude, true);\r\n    }\r\n    // add to list for future disposal\r\n    this.markers.push({ id: data.id, marker: marker, circle: circle, type: type });\r\n    // return\r\n    return marker;\r\n  }\r\n\r\n  goTo(lat: number, lng: number, fly: boolean = false): void {\r\n    if (fly) {\r\n      this.map.flyTo({\r\n        center: [lng, lat],\r\n        essential: true,\r\n      });\r\n    } else {\r\n      this.map.easeTo({\r\n        center: [lng, lat],\r\n        essential: true,\r\n      });\r\n    }\r\n  }\r\n\r\n  removeMarker(id: string): void {\r\n    const index = this.markers.findIndex(item => item.id === id);\r\n    if (index !== -1) {\r\n      const found = this.markers[index];\r\n      if (found.marker) found.marker.remove();\r\n      if (found.circle) found.circle.remove();\r\n      this.markers.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  clearMarkers(type: MarkerType = null): void {\r\n    if (type) {\r\n      this.markers.filter((marker: Marker) => marker.type === type).slice(0).forEach((marker: Marker) => this.removeMarker(marker.id));\r\n    } else {\r\n      this.markers.slice(0).forEach((marker: Marker) => this.removeMarker(marker.id));\r\n    }\r\n  }\r\n\r\n  resizeMap() {\r\n    if (this.map) {\r\n      this.map.resize();\r\n    }\r\n  }\r\n\r\n  addKingdomByClick(type: FactionType): void {\r\n    this.map.once('click', async ($event: mapboxgl.MapMouseEvent) => {\r\n      await this.apiService.addKingdom(null, type, $event.lngLat.lat, $event.lngLat.lng, 'bot-' + (Math.random() + 1).toString(36).substring(7));\r\n      this.notificationService.warning('world.map.update');\r\n    });\r\n  }\r\n\r\n  addShopByClick(type: StoreType): void {\r\n    this.map.once('click', async ($event: mapboxgl.MapMouseEvent) => {\r\n      await this.apiService.addShop(null, type, $event.lngLat.lat, $event.lngLat.lng, 'shop-' + (Math.random() + 1).toString(36).substring(7));\r\n      this.notificationService.warning('world.map.update');\r\n    });\r\n  }\r\n\r\n  addQuestByClick(type: LocationType): void {\r\n    this.map.once('click', async ($event: mapboxgl.MapMouseEvent) => {\r\n      await this.apiService.addQuest(null, type, $event.lngLat.lat, $event.lngLat.lng, 'quest-' + (Math.random() + 1).toString(36).substring(7));\r\n      this.notificationService.warning('world.map.update');\r\n    });\r\n  }\r\n\r\n  populateMapByClick(): void {\r\n    this.map.once('click', async ($event: mapboxgl.MapMouseEvent) => {\r\n      await this.apiService.populateMap($event.lngLat.lat, $event.lngLat.lng);\r\n      this.notificationService.warning('world.map.update');\r\n    });\r\n  }\r\n\r\n  terminalize(): void {\r\n    this.clearMarkers();\r\n    this.map.remove();\r\n    this.map = null;\r\n    this.markers = [];\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { MatSnackBar, MatSnackBarConfig, MatSnackBarDismiss, MatSnackBarRef } from '@angular/material/snack-bar';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { LongPipe } from '../pipes/long.pipe';\r\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\r\nimport { filter, tap, map, takeUntil, delay, take } from 'rxjs/operators';\r\n\r\nenum SnackBarType {\r\n  SUCCESS = 'success',\r\n  WARNING = 'warning',\r\n  ERROR = 'error',\r\n}\r\n\r\ninterface SnackBarQueueItem {\r\n  message: string;\r\n  showing: boolean;\r\n  type: SnackBarType;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class NotificationService {\r\n\r\n  private options: MatSnackBarConfig = {\r\n    duration: 2500,\r\n    horizontalPosition: 'right',\r\n    verticalPosition: 'top',\r\n  };\r\n  private readonly snackBarQueue = new BehaviorSubject<SnackBarQueueItem[]>([]);\r\n  private readonly snackBarQueue$ = this.snackBarQueue.asObservable();\r\n  private readonly ngDestroy = new Subject();\r\n\r\n  constructor(\r\n    private snackBar: MatSnackBar,\r\n    private translateService: TranslateService,\r\n  ) {\r\n    this.snackBarQueue$\r\n    .pipe(\r\n      filter((queue: SnackBarQueueItem[]) => queue.length > 0 && !queue[0].showing),\r\n      tap(() => {\r\n        const updatedQueue = this.snackBarQueue.value;\r\n        updatedQueue[0].showing = true;\r\n        this.snackBarQueue.next(updatedQueue);\r\n      }),\r\n      map(queue => queue[0]),\r\n      takeUntil(this.ngDestroy),\r\n    ).subscribe((notification: SnackBarQueueItem) => this.showSnackbar(notification.message, notification.type));\r\n  }\r\n\r\n  private showSnackbar(message: string, type: SnackBarType): void {\r\n    let matSnackBarRef: MatSnackBarRef<any> = null;\r\n    switch (type) {\r\n      case SnackBarType.SUCCESS:\r\n        matSnackBarRef = this.snackBar.open(message, '', {...this.options, panelClass: ['mat-toolbar', 'mat-accent']});\r\n        break;\r\n      case SnackBarType.WARNING:\r\n        matSnackBarRef = this.snackBar.open(message, '', {...this.options, panelClass: ['mat-toolbar', 'mat-primary']});\r\n        break;\r\n      case SnackBarType.ERROR:\r\n        matSnackBarRef = this.snackBar.open(message, '', {...this.options, panelClass: ['mat-toolbar', 'mat-warn']});\r\n        break;\r\n    }\r\n    if (matSnackBarRef) this.removeDismissedSnackBar(matSnackBarRef.afterDismissed());\r\n  }\r\n\r\n  private removeDismissedSnackBar(snackBar: Observable<MatSnackBarDismiss>): void {\r\n    snackBar\r\n    .pipe(\r\n      delay(50),\r\n      take(1),\r\n    )\r\n    .subscribe(() => {\r\n      const updatedQueue = this.snackBarQueue.value;\r\n      if (updatedQueue[0].showing) updatedQueue.shift();\r\n      this.snackBarQueue.next(updatedQueue);\r\n    });\r\n  }\r\n\r\n  success(text: string, variable?: any): void {\r\n    if (variable) {\r\n      Object.keys(variable).forEach((key, index) => {\r\n        if (typeof variable[key] === 'number') variable[key] = new LongPipe().transform(variable[key]);\r\n        if (typeof variable[key] === 'string' && variable[key].includes('.')) variable[key] = this.translateService.instant(variable[key]);\r\n      });\r\n    }\r\n    const message = this.translateService.instant(text, variable);\r\n    const type = SnackBarType.SUCCESS;\r\n    this.snackBarQueue.next(this.snackBarQueue.value.concat([{ message, type, showing: false }]));\r\n  }\r\n\r\n  warning(text: string): void {\r\n    const message = this.translateService.instant(text);\r\n    const type = SnackBarType.WARNING;\r\n    this.snackBarQueue.next(this.snackBarQueue.value.concat([{ message, type, showing: false }]));\r\n  }\r\n\r\n  error(text: string): void {\r\n    const message = this.translateService.instant(text);\r\n    const type = SnackBarType.ERROR;\r\n    this.snackBarQueue.next(this.snackBarQueue.value.concat([{ message, type, showing: false }]));\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TourService } from 'ngx-ui-tour-md-menu';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { IStepOption } from 'ngx-ui-tour-core';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class TutorialService {\r\n\r\n  constructor(\r\n    private tourService: TourService,\r\n  ) { }\r\n\r\n  ready(route: string) {\r\n    const waitingSteps = this.tourService.steps.filter(step => (step.route as string).includes(route));\r\n    waitingSteps.forEach(waitingStep => (waitingStep.waitFor as ReplaySubject<void>).next());\r\n  }\r\n\r\n  start(step?: string | undefined) {\r\n    if (step) this.tourService.startAt(step);\r\n    else this.tourService.start();\r\n  }\r\n\r\n  initialize() {\r\n    const options: IStepOption = {\r\n      preventScrolling: false,\r\n      enableBackdrop: true,\r\n      // waitFor: new ReplaySubject<void>(),\r\n    };\r\n    this.tourService.disableHotkeys();\r\n    this.tourService.initialize([\r\n      { route: '/kingdom/city', stepId: 'tour.supplies', anchorId: 'tour.supplies', title: 'kingdom.supplies.name', content: 'kingdom.supplies.tour' },\r\n      { route: '/kingdom/city', stepId: 'tour.city', anchorId: 'tour.city', title: 'kingdom.city.name', content: 'kingdom.city.tour' },\r\n      { route: '/kingdom/city', stepId: 'tour.tax', anchorId: 'tour.tax', title: 'kingdom.tax.name', content: 'kingdom.tax.tour' },\r\n      { route: '/kingdom/city', stepId: 'tour.charge', anchorId: 'tour.charge', title: 'kingdom.charge.name', content: 'kingdom.charge.tour' },\r\n      { route: '/kingdom/city', stepId: 'tour.explore', anchorId: 'tour.explore', title: 'kingdom.explore.name', content: 'kingdom.explore.tour' },\r\n      { route: '/kingdom/auction', stepId: 'tour.auction', anchorId: 'tour.auction', title: 'kingdom.auction.name', content: 'kingdom.auction.tour' },\r\n      { route: '/kingdom/auction', stepId: 'tour.bid', anchorId: 'tour.bid', title: 'kingdom.bid.name', content: 'kingdom.bid.tour' },\r\n      { route: '/kingdom/emporium', stepId: 'tour.emporium', anchorId: 'tour.emporium', title: 'kingdom.emporium.name', content: 'kingdom.emporium.tour' },\r\n      { route: '/kingdom/emporium', stepId: 'tour.tree', anchorId: 'tour.tree', title: 'kingdom.tree.name', content: 'kingdom.tree.tour' },\r\n      { route: '/kingdom/emporium', stepId: 'tour.mining', anchorId: 'tour.mining', title: 'kingdom.mining.name', content: 'kingdom.mining.tour' },\r\n      { route: '/kingdom/army', stepId: 'tour.army', anchorId: 'tour.army', title: 'kingdom.army.name', content: 'kingdom.army.tour' },\r\n      { route: '/kingdom/army', stepId: 'tour.attack', anchorId: 'tour.attack', title: 'kingdom.attack.name', content: 'kingdom.attack.tour' },\r\n      { route: '/kingdom/army', stepId: 'tour.defense', anchorId: 'tour.defense', title: 'kingdom.defense.name', content: 'kingdom.defense.tour' },\r\n      { route: '/kingdom/army', stepId: 'tour.recruit', anchorId: 'tour.recruit', title: 'kingdom.recruit.name', content: 'kingdom.recruit.tour' },\r\n      { route: '/kingdom/tavern', stepId: 'tour.tavern', anchorId: 'tour.tavern', title: 'kingdom.tavern.name', content: 'kingdom.tavern.tour' },\r\n      { route: '/kingdom/tavern', stepId: 'tour.leadership', anchorId: 'tour.leadership', title: 'kingdom.leadership.name', content: 'kingdom.leadership.tour' },\r\n      { route: '/kingdom/tavern', stepId: 'tour.guard', anchorId: 'tour.guard', title: 'kingdom.guard.name', content: 'kingdom.guard.tour' },\r\n      { route: '/kingdom/census', stepId: 'tour.census', anchorId: 'tour.census', title: 'kingdom.census.name', content: 'kingdom.census.tour' },\r\n      { route: '/kingdom/census', stepId: 'tour.kingdom', anchorId: 'tour.kingdom', title: 'kingdom.kingdom.name', content: 'kingdom.kingdom.tour' },\r\n      { route: '/kingdom/archive', stepId: 'tour.archive', anchorId: 'tour.archive', title: 'kingdom.archive.name', content: 'kingdom.archive.tour' },\r\n      { route: '/kingdom/clan', stepId: 'tour.clan', anchorId: 'tour.clan', title: 'kingdom.clan.name', content: 'kingdom.clan.tour' },\r\n      { route: '/kingdom/clan', stepId: 'tour.guild', anchorId: 'tour.guild', title: 'kingdom.guild.name', content: 'kingdom.guild.tour' },\r\n      { route: '/kingdom/sorcery', stepId: 'tour.sorcery', anchorId: 'tour.sorcery', title: 'kingdom.sorcery.name', content: 'kingdom.sorcery.tour' },\r\n      { route: '/kingdom/sorcery', stepId: 'tour.arcanism', anchorId: 'tour.arcanism', title: 'kingdom.arcanism.name', content: 'kingdom.arcanism.tour' },\r\n      { route: '/kingdom/sorcery', stepId: 'tour.protection', anchorId: 'tour.protection', title: 'kingdom.protection.name', content: 'kingdom.protection.tour' },\r\n      { route: '/kingdom/temple', stepId: 'tour.temple', anchorId: 'tour.temple', title: 'kingdom.temple.name', content: 'kingdom.temple.tour' },\r\n      { route: '/kingdom/temple', stepId: 'tour.break', anchorId: 'tour.break', title: 'kingdom.break.name', content: 'kingdom.break.tour' },\r\n      { route: '/kingdom/temple', stepId: 'tour.dispel', anchorId: 'tour.dispel', title: 'kingdom.dispel.name', content: 'kingdom.dispel.tour' },\r\n      { route: '/user/encyclopedia', stepId: 'tour.encyclopedia', anchorId: 'tour.encyclopedia', title: 'user.encyclopedia.name', content: 'user.encyclopedia.tour' },\r\n    ], options);\r\n  }\r\n}\r\n","export class SetUserAction {\r\n  public static readonly type = '[User] Set User';\r\n  constructor(public uid: string) {}\r\n}\r\n\r\nexport class SetKingdomAction {\r\n  public static readonly type = '[User] Set Kingdom';\r\n  constructor(public uid: string) {}\r\n}\r\n\r\nexport class SetKingdomSuppliesAction {\r\n  public static readonly type = '[User] Set Kingdom supplies';\r\n  constructor(public uid: string) {}\r\n}\r\n\r\nexport class SetKingdomBuildingsAction {\r\n  public static readonly type = '[User] Set Kingdom buildings';\r\n  constructor(public uid: string) {}\r\n}\r\n\r\nexport class LoginWithGoogleAction {\r\n  public static readonly type = '[User] Login with google';\r\n  constructor() {}\r\n}\r\n\r\nexport class LogoutAction {\r\n  public static readonly type = '[User] Logout user';\r\n  constructor() {}\r\n}\r\n","import { State, Action, Selector, StateContext, NgxsOnInit } from '@ngxs/store';\r\nimport { SetUserAction, SetKingdomAction, SetKingdomSuppliesAction, SetKingdomBuildingsAction, LoginWithGoogleAction, LogoutAction } from './auth.actions';\r\nimport { auth } from 'firebase/app';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Injectable } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { tap } from 'rxjs/operators';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { calculate } from 'src/app/pipes/turn.pipe';\r\n\r\nexport interface AuthStateModel {\r\n  kingdom: any;\r\n  uid: string | null;\r\n  supplies: any[];\r\n  buildings: any[];\r\n  logged: boolean;\r\n  clock: Date | null;\r\n  popup: string | null;\r\n}\r\n\r\nexport const initial: AuthStateModel = {\r\n  uid: null,\r\n  kingdom: null,\r\n  supplies: [],\r\n  buildings: [],\r\n  logged: false,\r\n  clock: null,\r\n  popup: null,\r\n};\r\n\r\n@State<AuthStateModel>({\r\n  name: 'auth',\r\n  defaults: initial,\r\n})\r\n@Injectable()\r\nexport class AuthState implements NgxsOnInit {\r\n\r\n  @Selector()\r\n  public static getUserUID(state: AuthStateModel): string {\r\n    return state && state.uid;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomSupplies(state: AuthStateModel): any[] {\r\n    return state && state.supplies;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomGem(state: AuthStateModel): any {\r\n    return state && state.supplies.find(supply => supply.id === 'gem');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomTurn(state: AuthStateModel): any {\r\n    const turns = state.supplies.find(supply => supply.id === 'turn');\r\n    if (state && turns) {\r\n      const kingdomTurn = JSON.parse(JSON.stringify(turns));\r\n      kingdomTurn.quantity = calculate(kingdomTurn.timestamp.seconds * 1000, Date.now(), kingdomTurn.resource.max, kingdomTurn.resource.ratio);\r\n      return kingdomTurn;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomLand(state: AuthStateModel): any {\r\n    return state && state.supplies.find(supply => supply.id === 'land');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomGold(state: AuthStateModel): any {\r\n    return state && state.supplies.find(supply => supply.id === 'gold');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomMana(state: AuthStateModel): any {\r\n    return state && state.supplies.find(supply => supply.id === 'mana');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomPopulation(state: AuthStateModel): any {\r\n    return state && state.supplies.find(supply => supply.id === 'population');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomBuildings(state: AuthStateModel): any[] {\r\n    return state && state.buildings;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomVillage(state: AuthStateModel): any {\r\n    return state && state.buildings.find(building => building.id === 'village');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomNode(state: AuthStateModel): any {\r\n    return state && state.buildings.find(building => building.id === 'node');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomWorkshop(state: AuthStateModel): any {\r\n    return state && state.buildings.find(building => building.id === 'workshop');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomAcademy(state: AuthStateModel): any {\r\n    return state && state.buildings.find(building => building.id === 'academy');\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomGuild(state: AuthStateModel): string | boolean {\r\n    return state && state.kingdom && JSON.stringify({ guild: state.kingdom.guild, guilded: state.kingdom.guilded.toMillis() });\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomClan(state: AuthStateModel): any {\r\n    return state && state.kingdom && state.kingdom.clan;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdomTree(state: AuthStateModel): any {\r\n    return state && state.kingdom && state.kingdom.tree;\r\n  }\r\n\r\n  @Selector()\r\n  public static getKingdom(state: AuthStateModel): any {\r\n    return state && state.kingdom;\r\n  }\r\n\r\n  @Selector()\r\n  public static getUserLoggedIn(state: AuthStateModel): boolean {\r\n    return state && state.logged;\r\n  }\r\n\r\n  @Selector()\r\n  public static getAuthState(state: AuthStateModel): AuthStateModel {\r\n    return state;\r\n  }\r\n\r\n  @Selector()\r\n  public static getClock(state: AuthStateModel): Date {\r\n    return state && state.clock;\r\n  }\r\n\r\n  constructor(\r\n    private angularFireAuth: AngularFireAuth,\r\n    private angularFirestore: AngularFirestore,\r\n    private router: Router,\r\n    private notificationService: NotificationService,\r\n  ) { }\r\n\r\n  ngxsOnInit(ctx: StateContext<AuthStateModel>) {\r\n    setInterval(() => {\r\n      ctx.patchState({\r\n        clock: new Date(),\r\n      });\r\n    }, 1000);\r\n    this.angularFireAuth.authState.subscribe((user: any) => {\r\n      if (user) {\r\n        ctx.dispatch(new SetUserAction(user.uid));\r\n        ctx.dispatch(new SetKingdomAction(user.uid));\r\n        ctx.dispatch(new SetKingdomSuppliesAction(user.uid));\r\n        ctx.dispatch(new SetKingdomBuildingsAction(user.uid));\r\n        this.notificationService.success('user.auth.authorized');\r\n        const route = localStorage.getItem('route') || '/kingdom/city';\r\n        // fix to use #fragments\r\n        const tree = this.router.parseUrl(route);\r\n        const fragment = tree.fragment;\r\n        tree.queryParams = {};\r\n        tree.fragment = null;\r\n        this.router.navigate([tree.toString()], { fragment: fragment });\r\n      } else {\r\n        this.router.navigate(['/user/landing']);\r\n      }\r\n    });\r\n  }\r\n\r\n  @Action(LoginWithGoogleAction)\r\n  async loginWithGoogle(ctx: StateContext<AuthStateModel>) {\r\n    await this.angularFireAuth.signInWithPopup(new auth.GoogleAuthProvider());\r\n  }\r\n\r\n  @Action(LogoutAction)\r\n  async logout(ctx: StateContext<AuthStateModel>) {\r\n    await this.angularFireAuth.signOut();\r\n    const state = ctx.getState();\r\n    ctx.setState({\r\n      ...state,\r\n      uid: null,\r\n      kingdom: null,\r\n      supplies: [],\r\n      buildings: [],\r\n      logged: false,\r\n      clock: null,\r\n    });\r\n  }\r\n\r\n  @Action(SetUserAction)\r\n  setUser(ctx: StateContext<AuthStateModel>, payload: SetUserAction) {\r\n    const state = ctx.getState();\r\n    ctx.setState({\r\n      ...state,\r\n      uid: payload.uid,\r\n      logged: true,\r\n    });\r\n  }\r\n\r\n  @Action(SetKingdomAction)\r\n  setKingdom(ctx: StateContext<AuthStateModel>, payload: SetKingdomAction) {\r\n    return this.angularFirestore.doc<any>(`kingdoms/${payload.uid}`).valueChanges().pipe(\r\n      tap((kingdom: any) => {\r\n        const state = ctx.getState();\r\n        ctx.setState({\r\n          ...state,\r\n          kingdom: kingdom,\r\n        });\r\n      }),\r\n    );\r\n  }\r\n\r\n  @Action(SetKingdomSuppliesAction)\r\n  setKingdomSupplies(ctx: StateContext<AuthStateModel>, payload: SetKingdomSuppliesAction) {\r\n    return this.angularFirestore.collection<any>(`kingdoms/${payload.uid}/supplies`).valueChanges({ idField: 'fid' }).pipe(\r\n      tap((supplies: any[]) => {\r\n        const state = ctx.getState();\r\n        ctx.setState({\r\n          ...state,\r\n          supplies: supplies.sort((a, b) => a.resource.sort - b.resource.sort),\r\n        });\r\n      }),\r\n    );\r\n  }\r\n\r\n  @Action(SetKingdomBuildingsAction)\r\n  setKingdomBuildings(ctx: StateContext<AuthStateModel>, payload: SetKingdomBuildingsAction) {\r\n    return this.angularFirestore.collection<any>(`kingdoms/${payload.uid}/buildings`).valueChanges({ idField: 'fid' }).pipe(\r\n      tap((buildings: any[]) => {\r\n        const state = ctx.getState();\r\n        ctx.setState({\r\n          ...state,\r\n          buildings: buildings,\r\n        });\r\n      }),\r\n    );\r\n  }\r\n\r\n}\r\n","import { MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { TranslateParser, TranslateService } from '@ngx-translate/core';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class PaginatorIntl extends MatPaginatorIntl {\r\n\r\n  private rangeLabelIntl: string;\r\n\r\n  constructor(\r\n    private translateService: TranslateService,\r\n    private translateParser: TranslateParser,\r\n  ) {\r\n    super();\r\n    this.translateService.onLangChange.subscribe((e: Event) => this.getTranslations());\r\n    this.getTranslations();\r\n  }\r\n\r\n  getTranslations() {\r\n    this.translateService.get([\r\n      'paginator.itemsPerPageLabel',\r\n      'paginator.nextPageLabel',\r\n      'paginator.previousPageLabel',\r\n      'paginator.firstPageLabel',\r\n      'paginator.lastPageLabel',\r\n      'paginator.rangeLabelIntl',\r\n    ]).subscribe((translation: any) => {\r\n      this.itemsPerPageLabel = translation['paginator.itemsPerPageLabel'];\r\n      this.nextPageLabel = translation['paginator.nextPageLabel'];\r\n      this.previousPageLabel = translation['paginator.previousPageLabel'];\r\n      this.firstPageLabel = translation['paginator.firstPageLabel'];\r\n      this.lastPageLabel = translation['paginator.lastPageLabel'];\r\n      this.rangeLabelIntl = translation['paginator.rangeLabelIntl'];\r\n      this.changes.next();\r\n    });\r\n  }\r\n\r\n  getRangeLabel = (page: number, pageSize: number, length: number) => {\r\n    const total = Math.max(length, 0);\r\n    const start = page * pageSize;\r\n    const end = start < length\r\n      ? Math.min(start + pageSize, length)\r\n      : start + pageSize;\r\n    return this.translateParser.interpolate(this.rangeLabelIntl, { start: start, end: end, length: total });\r\n  }\r\n\r\n}\r\n","// angular\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { LayoutModule } from '@angular/cdk/layout';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\r\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\n// material\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatListModule } from '@angular/material/list';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatPaginatorModule } from '@angular/material/paginator';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatTabsModule } from '@angular/material/tabs';\r\nimport { MatBadgeModule } from '@angular/material/badge';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\nimport { MatExpansionModule } from '@angular/material/expansion';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\n// plugins\r\nimport { TourMatMenuModule } from 'ngx-ui-tour-md-menu';\r\nimport { NgxCurrencyModule, CurrencyMaskInputMode } from 'ngx-currency';\r\n// components\r\nimport { ShellComponent } from './shell/shell.component';\r\n// pipes\r\nimport { ShortPipe } from '../pipes/short.pipe';\r\nimport { IconPipe } from '../pipes/icon.pipe';\r\nimport { LongPipe } from '../pipes/long.pipe';\r\nimport { LegendaryPipe } from '../pipes/legendary.pipe';\r\nimport { TurnPipe } from '../pipes/turn.pipe';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { StatusComponent } from './shell/status.component';\r\nimport { TourComponent } from './tour/tour.component';\r\n\r\n// AOT compilation support\r\nexport function httpTranslateLoader(http: HttpClient) {\r\n  return new TranslateHttpLoader(http);\r\n}\r\n\r\nconst components = [\r\n  ShellComponent,\r\n  ShortPipe,\r\n  IconPipe,\r\n  LongPipe,\r\n  LegendaryPipe,\r\n  TurnPipe,\r\n  TourComponent,\r\n];\r\nconst modules = [\r\n  CommonModule,\r\n  RouterModule,\r\n  MatToolbarModule,\r\n  MatIconModule,\r\n  LayoutModule,\r\n  MatButtonModule,\r\n  MatSidenavModule,\r\n  MatListModule,\r\n  MatMenuModule,\r\n  MatIconModule,\r\n  MatCardModule,\r\n  MatFormFieldModule,\r\n  MatInputModule,\r\n  MatSnackBarModule,\r\n  FlexLayoutModule,\r\n  MatChipsModule,\r\n  MatTableModule,\r\n  MatPaginatorModule,\r\n  MatSortModule,\r\n  HttpClientModule,\r\n  MatSelectModule,\r\n  MatTabsModule,\r\n  MatBadgeModule,\r\n  DragDropModule,\r\n  MatProgressBarModule,\r\n  MatDialogModule,\r\n  FormsModule,\r\n  MatCheckboxModule,\r\n  MatFormFieldModule,\r\n  ReactiveFormsModule,\r\n  MatDatepickerModule,\r\n  MatNativeDateModule,\r\n  MatProgressSpinnerModule,\r\n  MatBottomSheetModule,\r\n  MatExpansionModule,\r\n  MatTooltipModule,\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ...components,\r\n    StatusComponent,\r\n  ],\r\n  imports: [\r\n    ...modules,\r\n    TranslateModule.forChild({\r\n      loader: {\r\n        provide: TranslateLoader,\r\n        useFactory: httpTranslateLoader,\r\n        deps: [HttpClient],\r\n      },\r\n      isolate: false,\r\n    }),\r\n    TourMatMenuModule,\r\n    NgxCurrencyModule.forRoot({\r\n      align: 'right',\r\n      allowNegative: false,\r\n      allowZero: true,\r\n      decimal: ',',\r\n      precision: 0,\r\n      prefix: '',\r\n      suffix: '',\r\n      thousands: '.',\r\n      nullable: true,\r\n      min: null,\r\n      max: null,\r\n      inputMode: CurrencyMaskInputMode.FINANCIAL,\r\n    }),\r\n    ScrollingModule,\r\n  ],\r\n  exports: [\r\n    ...components,\r\n    ...modules,\r\n    TranslateModule,\r\n  ],\r\n})\r\nexport class SharedModule { }\r\n","import { Component, ViewChild, OnInit } from '@angular/core';\r\nimport { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { Observable } from 'rxjs';\r\nimport { map, shareReplay, filter } from 'rxjs/operators';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { Router, NavigationEnd, RouterEvent } from '@angular/router';\r\nimport { MatSidenav } from '@angular/material/sidenav';\r\nimport { MapboxService } from 'src/app/services/mapbox.service';\r\nimport { Store, Select } from '@ngxs/store';\r\nimport { LogoutAction } from '../auth/auth.actions';\r\nimport { DomService } from 'src/app/services/dom.service';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AuthState } from '../auth/auth.state';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\r\nimport { StatusComponent } from './status.component';\r\nimport { TutorialService } from 'src/app/services/tutorial.service';\r\n\r\n@Component({\r\n  selector: 'app-shell',\r\n  templateUrl: './shell.component.html',\r\n  styleUrls: ['./shell.component.scss'],\r\n})\r\nexport class ShellComponent implements OnInit {\r\n\r\n  langs: any[] = [\r\n    { lang: 'es', image: '/assets/images/languages/es.png' },\r\n    { lang: 'en', image: '/assets/images/languages/en.png' },\r\n    { lang: 'fr', image: '/assets/images/languages/fr.png' },\r\n  ];\r\n  groups: any[] = [\r\n    { name: 'shell.group.merchant', image: '/assets/images/cards/merchant.png', links: [\r\n        { url: '/kingdom/city', name: 'kingdom.city.name', description: 'kingdom.city.description', image: '/assets/images/cards/city.png' },\r\n        { url: '/kingdom/auction', name: 'kingdom.auction.name', description: 'kingdom.auction.description', image: '/assets/images/cards/auction.png' },\r\n        { url: '/kingdom/emporium', name: 'kingdom.emporium.name', description: 'kingdom.emporium.description', image: '/assets/images/cards/emporium.png' },\r\n      ],\r\n    },\r\n    { name: 'shell.group.militia', image: '/assets/images/cards/militia.png', links: [\r\n        { url: '/world/map', name: 'world.map.name', description: 'world.map.description', image: '/assets/images/cards/map.png' },\r\n        { url: '/kingdom/army', name: 'kingdom.army.name', description: 'kingdom.army.description', image: '/assets/images/cards/army.png' },\r\n        { url: '/kingdom/tavern', name: 'kingdom.tavern.name', description: 'kingdom.tavern.description', image: '/assets/images/cards/tavern.png' },\r\n      ],\r\n    },\r\n    { name: 'shell.group.spy', image: '/assets/images/cards/spy.png', links: [\r\n        { url: '/kingdom/census', name: 'kingdom.census.name', description: 'kingdom.census.description', image: '/assets/images/cards/census.png' },\r\n        { url: '/kingdom/archive', name: 'kingdom.archive.name', description: 'kingdom.archive.description', image: '/assets/images/cards/archive.png' },\r\n        { url: '/kingdom/clan', name: 'kingdom.clan.name', description: 'kingdom.clan.description', image: '/assets/images/cards/clan.png' },\r\n      ],\r\n    },\r\n    { name: 'shell.group.scholar', image: '/assets/images/cards/scholar.png', links: [\r\n        { url: '/kingdom/sorcery', name: 'kingdom.sorcery.name', description: 'kingdom.sorcery.description', image: '/assets/images/cards/sorcery.png' },\r\n        { url: '/kingdom/temple', name: 'kingdom.temple.name', description: 'kingdom.temple.description', image: '/assets/images/cards/temple.png' },\r\n        { url: '/user/encyclopedia', name: 'user.encyclopedia.name', description: 'user.encyclopedia.description', image: '/assets/images/cards/encyclopedia.png' },\r\n      ],\r\n    },\r\n  ];\r\n  @Select((state: any) => state.auth.supplies) kingdomSupplies$: Observable<any[]>;\r\n  link$: Observable<any> = this.router.events\r\n  .pipe(\r\n    filter((event: RouterEvent): event is NavigationEnd => event instanceof NavigationEnd),\r\n    map((event: NavigationEnd) => {\r\n      return this.groups.reduce((a, b) => a.concat(b.links), []).find((link: any) => event.url.includes(link.url));\r\n    }),\r\n  );\r\n  isHandset$: Observable<boolean> = this.breakpointObserver.observe([Breakpoints.Handset])\r\n  .pipe(\r\n    map((result: any) => result.matches),\r\n    shareReplay(),\r\n  );\r\n  public reports: number = 0;\r\n  @ViewChild(MatSidenav, {static: true}) drawer: MatSidenav;\r\n\r\n  constructor(\r\n    private breakpointObserver: BreakpointObserver,\r\n    public translateService: TranslateService,\r\n    public angularFireAuth: AngularFireAuth,\r\n    private router: Router,\r\n    private mapboxService: MapboxService,\r\n    private store: Store,\r\n    private tutorialService: TutorialService,\r\n    private domService: DomService,\r\n    private angularFirestore: AngularFirestore,\r\n    private notificationService: NotificationService,\r\n    private bottomSheet: MatBottomSheet,\r\n  ) {\r\n    // i18n\r\n    this.translateService.addLangs(this.langs.map(l => l.lang));\r\n    const browser = this.translateService.getBrowserLang();\r\n    this.translateService.use(this.langs.map(l => l.lang).includes(browser) ? browser : this.langs[0].lang);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.store.select(AuthState.getUserUID).subscribe(uid => {\r\n      if (uid) {\r\n        this.angularFirestore.collection<any>(`kingdoms/${uid}/letters`, x => x.where('read', '==', false)).valueChanges().subscribe(reports => {\r\n          const oldReports = this.reports;\r\n          this.reports = reports.length;\r\n          if (this.reports > oldReports) this.notificationService.warning('kingdom.archive.new');\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async toggle() {\r\n    await this.drawer.toggle();\r\n    this.mapboxService.resizeMap();\r\n  }\r\n\r\n  close() {\r\n    this.isHandset$.subscribe(async isHandset => {\r\n      if (isHandset) {\r\n        await this.drawer.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  getLang(): any {\r\n    return this.langs.find(l => l.lang === this.translateService.currentLang);\r\n  }\r\n\r\n  tour() {\r\n    this.tutorialService.start();\r\n  }\r\n\r\n  login($element: any) {\r\n    this.domService.scrollToTop($element);\r\n    this.router.navigate(['/user/landing']);\r\n  }\r\n\r\n  logout() {\r\n    this.store.dispatch(new LogoutAction());\r\n  }\r\n\r\n  openStatusSheet() {\r\n    const sheetRef = this.bottomSheet.open(StatusComponent, {\r\n      data: this.kingdomSupplies$,\r\n    });\r\n  }\r\n\r\n}\r\n","<mat-sidenav-container class=\"app-shell sidenav-container\" autosize [hasBackdrop]=\"(isHandset$ | async)\">\r\n  <!-- sidenav -->\r\n  <mat-sidenav\r\n    #drawer\r\n    class=\"sidenav\"\r\n    fixedInViewport\r\n    [attr.role]=\"(isHandset$ | async) ? 'dialog' : 'navigation'\"\r\n    [mode]=\"(isHandset$ | async) ? 'over' : 'side'\"\r\n    [opened]=\"(angularFireAuth.authState | async)\">\r\n    <mat-toolbar>\r\n      <!-- toggler -->\r\n      <button type=\"button\" aria-label=\"toggle\" mat-icon-button (click)=\"toggle()\">\r\n        <mat-icon aria-label=\"menu\">menu</mat-icon>\r\n      </button>\r\n      <!-- title -->\r\n      <span class=\"fill-space\"></span>\r\n      <span class=\"logo\">{{ ((link$ | async)?.name || 'landing.title.name') | translate }}</span>\r\n      <span class=\"fill-space\"></span>\r\n      <!-- language -->\r\n      <button mat-icon-button [matMenuTriggerFor]=\"language\">\r\n        <img [src]=\"getLang()?.image\" [alt]=\"getLang()?.lang\">\r\n      </button>\r\n      <mat-menu #language=\"matMenu\">\r\n        <a mat-menu-item *ngFor=\"let l of langs\" [ngClass]=\"{ 'active': translateService.currentLang === l.lang }\" (click)=\"translateService.use(l.lang)\" class=\"flag-menu\">\r\n          <img [src]=\"l.image\" [alt]=\"l.lang\">\r\n          <span>{{ l.lang.toString().toUpperCase() }}</span>\r\n        </a>\r\n      </mat-menu>\r\n    </mat-toolbar>\r\n    <!-- scroll container -->\r\n    <div class=\"scroll-container\" [ngStyle]=\"{ height: (isHandset$ | async) === false ? 'calc(100% - 64px)' : 'calc(100% - 56px)' }\">\r\n      <!-- links -->\r\n      <mat-nav-list dense class=\"router-list\">\r\n        <ng-container *ngFor=\"let group of groups\">\r\n          <div matSubheader>\r\n            <img [src]=\"group.image\" [alt]=\"group.name | translate\">\r\n            <span>{{ group.name | translate }}</span>\r\n          </div>\r\n          <ng-container *ngFor=\"let link of group.links\">\r\n            <a mat-list-item\r\n              [disabled]=\"(angularFireAuth.authState | async) === (false || null || undefined)\"\r\n              (click)=\"close()\"\r\n              [routerLink]=\"link.url ? link.url : null\"\r\n              [routerLinkActive]=\"link.url ? ['active'] : []\"\r\n              [routerLinkActiveOptions]=\"{ exact: true }\">\r\n              <div mat-list-avatar [matBadge]=\"link.name === 'kingdom.archive.name' && reports ? reports : undefined\">\r\n                <img mat-list-avatar [src]=\"link.image\" [alt]=\"link.name | translate\">\r\n              </div>\r\n              <div mat-line>{{ link.name | translate }}</div>\r\n              <div mat-line class=\"mat-card-subtitle\">{{ link.description | translate }}</div>\r\n            </a>\r\n          </ng-container>\r\n        </ng-container>\r\n      </mat-nav-list>\r\n    </div>\r\n  </mat-sidenav>\r\n  <!-- sidenav content -->\r\n  <mat-sidenav-content>\r\n    <mat-toolbar class=\"mat-elevation-z8\">\r\n      <!-- toggler -->\r\n      <button type=\"button\" aria-label=\"toggle\" mat-icon-button (click)=\"toggle()\">\r\n        <mat-icon aria-label=\"menu\">{{ drawer.opened ? 'first_page' : 'last_page' }}</mat-icon>\r\n      </button>\r\n      <span class=\"fill-space\"></span>\r\n      <!-- title -->\r\n      <span class=\"logo\" *ngIf=\"!(angularFireAuth.authState | async)\">{{ 'landing.title.name' | translate }}</span>\r\n      <!-- supply list -->\r\n      <mat-nav-list dense class=\"supply-list\" role=\"navigation\" *ngIf=\"(angularFireAuth.authState | async)\" tourAnchor=\"tour.supplies\">\r\n        <mat-list-item *ngFor=\"let supply of kingdomSupplies$ | async; let i = index\" (click)=\"openStatusSheet()\">\r\n          <div mat-list-avatar\r\n            [matTooltip]=\"supply.resource.name | translate\"\r\n            matTooltipPosition=\"below\"\r\n            [matBadge]=\"supply.timestamp ? (supply.timestamp | turn:supply.resource.max:supply.resource.ratio | async) : (supply.quantity | short)\"\r\n            [matBadgeColor]=\"supply.balance === 0 ? 'primary' : supply.balance > 0 ? 'accent' : 'warn'\"\r\n            [matBadgePosition]=\"i % 2 === 0 ? 'below before' : 'above before'\"\r\n            matBadgeOverlap=\"true\">\r\n            <img mat-list-avatar [src]=\"supply.resource.image\" [alt]=\"supply.resource.name | translate\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-nav-list>\r\n      <!-- auth -->\r\n      <span class=\"fill-space\"></span>\r\n      <button mat-icon-button [matMenuTriggerFor]=\"auth\">\r\n        <mat-icon>account_circle</mat-icon>\r\n      </button>\r\n      <mat-menu #auth=\"matMenu\">\r\n        <ng-container *ngIf=\"(angularFireAuth.authState | async); else notLogged\">\r\n          <a mat-menu-item routerLink=\"/user/encyclopedia\" fragment=\"help\"><mat-icon>help</mat-icon>{{ 'user.menu.help' | translate }}</a>\r\n          <a mat-menu-item (click)=\"tour()\"><mat-icon>map</mat-icon>{{ 'user.menu.tour' | translate }}</a>\r\n          <a mat-menu-item routerLink=\"/kingdom/emporium\"><mat-icon>local_mall</mat-icon>{{ 'user.menu.store' | translate }}</a>\r\n          <a mat-menu-item routerLink=\"/user/encyclopedia\" fragment=\"changelog\"><mat-icon>description</mat-icon>{{ 'user.menu.changelog' | translate }}</a>\r\n          <a mat-menu-item routerLink=\"/user/encyclopedia\" fragment=\"bonfire\"><mat-icon>question_answer</mat-icon>{{ 'user.menu.bonfire' | translate }}</a>\r\n          <a mat-menu-item routerLink=\"/user/landing\" fragment=\"legend\"><mat-icon>equalizer</mat-icon>{{ 'user.menu.legend' | translate }}</a>\r\n          <a mat-menu-item (click)=\"logout()\"><mat-icon>lock</mat-icon>{{ 'user.menu.logout' | translate }}</a>\r\n        </ng-container>\r\n        <ng-template #notLogged>\r\n          <a mat-menu-item (click)=\"login(main)\"><mat-icon>lock_open</mat-icon>{{ 'user.menu.login' | translate }}</a>\r\n        </ng-template>\r\n      </mat-menu>\r\n    </mat-toolbar>\r\n    <!-- main content -->\r\n    <main\r\n      #main\r\n      class=\"main-content\"\r\n      id=\"scroll\"\r\n      cdkScrollable\r\n      [ngStyle]=\"{ height: (isHandset$ | async) === false ? 'calc(100vh - 64px)' : 'calc(100vh - 56px)', width: (isHandset$ | async) === false && drawer.opened ? 'calc(100vw - 300px)' : '100vw' }\">\r\n      <ng-content></ng-content>\r\n    </main>\r\n  </mat-sidenav-content>\r\n</mat-sidenav-container>\r\n","import { Component, Inject } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { MAT_BOTTOM_SHEET_DATA } from '@angular/material/bottom-sheet';\r\n\r\n@Component({\r\n  selector: 'app-status',\r\n  template: `\r\n    <div matSubheader>{{ 'card.list.resources' | translate }}:<span class=\"fill-space\"></span>{{ 'card.list.production' | translate }}:</div>\r\n    <mat-list dense class=\"app-status\">\r\n      <ng-container *ngFor=\"let supply of kingdomSupplies$ | async; let i = index\">\r\n        <mat-list-item>\r\n          <div mat-list-avatar\r\n            [matBadge]=\"supply.max ? (supply.timestamp ? (supply.timestamp | turn:supply.resource.max:supply.resource.ratio | async) : (supply.quantity | short)) + ' / ' + (supply.max | short) : supply.quantity | short\"\r\n            matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"supply.resource.image\">\r\n          </div>\r\n          <div mat-line>{{ supply.resource.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">{{ supply.resource.description | translate }}</div>\r\n          <div mat-line *ngIf=\"supply.max\">\r\n            <mat-progress-bar [value]=\"(supply.timestamp ? (supply.timestamp | turn:supply.resource.max:supply.resource.ratio | async) : supply.quantity) * 100 / supply.max\"></mat-progress-bar>\r\n          </div>\r\n          <div mat-list-avatar\r\n            [matBadge]=\"(supply.balance | short) + ('resource.turn.ratio' | translate)\"\r\n            [matBadgeColor]=\"supply.balance === 0 ? 'primary' : supply.balance > 0 ? 'accent' : 'warn'\"\r\n            matBadgePosition=\"above after\">\r\n            <img mat-list-avatar [src]=\"supply.status\">\r\n          </div>\r\n        </mat-list-item>\r\n      </ng-container>\r\n    </mat-list>\r\n  `,\r\n  styles: [`\r\n    .app-status.mat-list.mat-list-base {\r\n      max-height: 100%;\r\n    }\r\n  `],\r\n})\r\nexport class StatusComponent {\r\n\r\n  constructor(\r\n    @Inject(MAT_BOTTOM_SHEET_DATA) public kingdomSupplies$: Observable<any[]>,\r\n  ) { }\r\n\r\n}\r\n","import { Component, ViewEncapsulation } from '@angular/core';\r\nimport { TourService } from 'ngx-ui-tour-md-menu';\r\n\r\n@Component({\r\n  selector: 'app-tour',\r\n  templateUrl: './tour.component.html',\r\n  styleUrls: ['./tour.component.scss'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class TourComponent {\r\n\r\n  constructor(\r\n    public tourService: TourService,\r\n  ) { }\r\n\r\n}\r\n","<tour-step-template>\r\n  <ng-template let-step=\"step\">\r\n    <mat-card (click)=\"$event.stopPropagation()\">\r\n      <mat-card-title>{{ step?.title | translate }}</mat-card-title>\r\n      <mat-card-content [innerHtml]=\"step?.content | translate | icon\"></mat-card-content>\r\n      <mat-card-actions>\r\n        <button mat-icon-button [disabled]=\"!tourService.hasPrev(step)\" (click)=\"tourService.prev()\"><mat-icon>chevron_left</mat-icon></button>\r\n        <button mat-icon-button [disabled]=\"!tourService.hasNext(step)\" (click)=\"tourService.next()\"><mat-icon>chevron_right</mat-icon></button>\r\n        <button mat-icon-button (click)=\"tourService.end()\"><mat-icon>close</mat-icon></button>\r\n      </mat-card-actions>\r\n    </mat-card>\r\n  </ng-template>\r\n</tour-step-template>\r\n","export enum MarkerType {\r\n  KINGDOM = 'kingdom',\r\n  SHOP = 'shop',\r\n  QUEST = 'quest',\r\n}\r\n\r\nexport enum PopupType {\r\n  KINGDOM = 'kingdom',\r\n  SHOP = 'shop',\r\n  QUEST = 'quest',\r\n}\r\n\r\nexport enum StoreType {\r\n  INN = 'inn',\r\n  MERCENARY = 'mercenary',\r\n  SORCERER = 'sorcerer',\r\n  MERCHANT = 'merchant',\r\n}\r\n\r\nexport enum LocationType {\r\n  CAVE = 'cave',\r\n  GRAVEYARD = 'graveyard',\r\n  DUNGEON = 'dungeon',\r\n  MINE = 'mine',\r\n  FOREST = 'forest',\r\n  CATHEDRAL = 'cathedral',\r\n  MOUNTAIN = 'mountain',\r\n  VOLCANO = 'volcano',\r\n  LAKE = 'lake',\r\n  NEST = 'nest',\r\n  CASTLE = 'castle',\r\n  BARRACK = 'barrack',\r\n  ISLAND = 'island',\r\n  MONOLITH = 'monolith',\r\n  RUIN = 'ruin',\r\n  SHIP = 'ship',\r\n  TOWN = 'town',\r\n  SHRINE = 'shrine',\r\n  TOTEM = 'totem',\r\n  PYRAMID = 'pyramid',\r\n}\r\n\r\nexport enum FactionType {\r\n  RED = 'red',\r\n  WHITE = 'white',\r\n  GREEN = 'green',\r\n  BLUE = 'blue',\r\n  BLACK = 'black',\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, Router, NavigationEnd } from '@angular/router';\r\nimport { NotificationService } from '../services/notification.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from '../shared/auth/auth.state';\r\nimport { filter } from 'rxjs/operators';\r\n\r\nconst LANDING_ROUTE: string = '/user/landing';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AuthGuard implements CanActivate {\r\n\r\n  constructor(\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private router: Router,\r\n  ) { }\r\n\r\n  canActivate(next: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\r\n    const logged = this.store.selectSnapshot(AuthState.getUserLoggedIn);\r\n    if (!logged) {\r\n      this.notificationService.error('user.auth.unauthorized');\r\n      this.router.navigate([LANDING_ROUTE]);\r\n    }\r\n    return logged;\r\n  }\r\n\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { MarkerType } from 'src/app/shared/type/common.type';\r\n\r\n@Component({\r\n  selector: 'app-marker',\r\n  templateUrl: './marker.component.html',\r\n  styleUrls: ['./marker.component.scss'],\r\n})\r\nexport class MarkerComponent {\r\n\r\n  data: any = null;\r\n  MarkerType: typeof MarkerType = MarkerType;\r\n\r\n}\r\n","<div class=\"map-marker\">\r\n\r\n  <!-- kingdom -->\r\n  <button *ngIf=\"data.type === MarkerType.KINGDOM\" mat-fab color=\"primary\" class=\"marker animated bounceIn\">\r\n    <img [src]=\"data.faction.marker\" [alt]=\"data.name\">\r\n  </button>\r\n\r\n  <!-- shop -->\r\n  <button *ngIf=\"data.type === MarkerType.SHOP\" mat-mini-fab color=\"accent\" class=\"marker animated bounceIn\">\r\n    <img [src]=\"data.store.image\" [alt]=\"data.store.name | translate\">\r\n  </button>\r\n\r\n  <!-- quest -->\r\n  <button *ngIf=\"data.type === MarkerType.QUEST\" mat-mini-fab color=\"warn\" class=\"marker animated bounceIn\">\r\n    <img [src]=\"data.location.image\" [alt]=\"data.location.name | translate\">\r\n  </button>\r\n\r\n</div>\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-adventure',\r\n  template: `\r\n    <h1 mat-dialog-title>{{ 'world.adventure.name' | translate }}</h1>\r\n    <div mat-dialog-content>\r\n      <p>{{ 'world.adventure.description' | translate }}</p>\r\n      <div matSubheader>{{ 'card.list.rewards' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item [ngClass]=\"[data.reward.item.faction.id, data.reward.item.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar [matBadge]=\"data.reward.quantity | long\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"data.reward.item.image\">\r\n          </div>\r\n          <div mat-line>{{ data.reward.item.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"data.reward.item.description | translate | icon:data.reward.item\"></div>\r\n          <div mat-list-avatar [matBadge]=\"data.quest.turns | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/turn.png\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </div>\r\n    <div mat-dialog-actions>\r\n      <button mat-button (click)=\"close()\">{{ 'world.adventure.cancel' | translate }}</button>\r\n      <button mat-raised-button color=\"primary\" (click)=\"adventure()\" cdkFocusInitial>{{ 'world.adventure.start' | translate }}</button>\r\n    </div>\r\n  `,\r\n  styles: [\r\n  ],\r\n})\r\nexport class AdventureComponent implements OnInit {\r\n\r\n  kingdomTurn: any = this.store.selectSnapshot(AuthState.getKingdomTurn);\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: {\r\n      reward: any,\r\n      quest: any,\r\n    },\r\n    private dialogRef: MatDialogRef<AdventureComponent>,\r\n    private notificationService: NotificationService,\r\n    private apiService: ApiService,\r\n    private store: Store,\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  async adventure() {\r\n    if (this.data.quest.turns <= this.kingdomTurn.quantity) {\r\n      this.loadingService.startLoading();\r\n      try {\r\n        const dealt = await this.apiService.adventureQuest(this.uid, this.data.quest.id);\r\n        this.notificationService.success('world.adventure.success');\r\n        this.close();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.notificationService.error('world.adventure.error');\r\n      }\r\n      this.loadingService.stopLoading();\r\n    } else {\r\n      this.notificationService.error('world.adventure.error');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\n\r\n@Component({\r\n  selector: 'app-deal',\r\n  template: `\r\n    <h1 mat-dialog-title>{{ 'world.deal.name' | translate }}</h1>\r\n    <div mat-dialog-content>\r\n      <p>{{ 'world.deal.description' | translate }}</p>\r\n      <div matSubheader>{{ 'card.list.goods' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item [ngClass]=\"[data.deal.join.faction.id, data.deal.join.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar [matBadge]=\"data.deal.quantity | long\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"data.deal.join.image\">\r\n          </div>\r\n          <div mat-line>{{ data.deal.join.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"['god', 'family', 'skill', 'resource', 'category'].includes(data.deal.join.type)\">{{ data.deal.join.description | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"['spell', 'structure', 'location', 'hero', 'item'].includes(data.deal.join.type)\" [innerHTML]=\"data.deal.join.description | translate | icon:data.deal.join\"></div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"['unit'].includes(data.deal.join.type)\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of data.deal.join.families\" [src]=\"family.image\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of data.deal.join.skills\" [src]=\"skill.image\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of data.deal.join.categories\" [src]=\"category.image\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"data.deal.join.legendary\" src=\"/assets/images/icons/legendary.png\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"['unit'].includes(data.deal.join.type) && data.deal.join.categories && data.deal.join.categories.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of data.deal.join.resistances\" [src]=\"category.image\">\r\n          </div>\r\n          <div mat-list-avatar [matBadge]=\"data.deal.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </div>\r\n    <div mat-dialog-actions>\r\n      <button mat-button (click)=\"close()\">{{ 'world.deal.cancel' | translate }}</button>\r\n      <button mat-raised-button color=\"primary\" (click)=\"deal()\" cdkFocusInitial>{{ 'world.deal.trade' | translate }}</button>\r\n    </div>\r\n  `,\r\n  styles: [\r\n  ],\r\n})\r\nexport class DealComponent implements OnInit {\r\n\r\n  kingdomGold: any = this.store.selectSnapshot(AuthState.getKingdomGold);\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: {\r\n      deal: any,\r\n      shop: any,\r\n    },\r\n    private dialogRef: MatDialogRef<DealComponent>,\r\n    private notificationService: NotificationService,\r\n    private store: Store,\r\n    private apiService: ApiService,\r\n    private loadingService: LoadingService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  close(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n  async deal(): Promise<void> {\r\n    if (this.data.deal.gold <= this.kingdomGold.quantity) {\r\n      this.loadingService.startLoading();\r\n      try {\r\n        const collection = this.data.shop.store.id === 'mercenary'\r\n          ? 'troops'\r\n          : this.data.shop.store.id === 'inn'\r\n            ? 'contracts'\r\n            : this.data.shop.store.id === 'merchant'\r\n              ? 'artifacts'\r\n              : 'charms';\r\n        const dealt = await this.apiService.tradeDeal(this.uid, this.data.shop.id, collection, this.data.deal.fid);\r\n        this.notificationService.success('world.deal.success');\r\n        this.close();\r\n      } catch (error) {\r\n        console.error(error);\r\n        this.notificationService.error('world.deal.error');\r\n      }\r\n      this.loadingService.stopLoading();\r\n    } else {\r\n      this.notificationService.error('world.deal.error');\r\n    }\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PopupType } from 'src/app/shared/type/common.type';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport { AdventureComponent } from './adventure.component';\r\nimport { DealComponent } from './deal.component';\r\nimport { BehaviorSubject, combineLatest } from 'rxjs';\r\nimport * as moment from 'moment';\r\nimport { ApiService } from 'src/app/services/api.service';\r\nimport { TroopAssignmentType } from 'src/app/kingdom/army/army.component';\r\nimport { LoadingService } from 'src/app/services/loading.service';\r\nimport { Store } from '@ngxs/store';\r\nimport { AuthState } from 'src/app/shared/auth/auth.state';\r\n\r\n@UntilDestroy()\r\n@Component({\r\n  selector: 'app-popup',\r\n  templateUrl: './popup.component.html',\r\n  styleUrls: ['./popup.component.scss'],\r\n})\r\nexport class PopupComponent implements OnInit {\r\n\r\n  uid: string = this.store.selectSnapshot(AuthState.getUserUID);\r\n  opened: BehaviorSubject<boolean> = new BehaviorSubject(false);\r\n  data: any = null;\r\n  shopContracts: any[] = [];\r\n  shopArtifacts: any[] = [];\r\n  shopTroops: any[] = [];\r\n  kingdomTroops: any[] = [];\r\n  shopCharms: any[] = [];\r\n  questContracts: any[] = [];\r\n  questTroops: any[] = [];\r\n  questArtifacts: any[] = [];\r\n  PopupType: typeof PopupType = PopupType;\r\n  canAttack: boolean = false;\r\n\r\n  constructor(\r\n    private angularFirestore: AngularFirestore,\r\n    private dialog: MatDialog,\r\n    private apiService: ApiService,\r\n    private loadingService: LoadingService,\r\n    private store: Store,\r\n  ) { }\r\n\r\n  async ngOnInit() {\r\n    // check refresh\r\n    await this.checkRefresh();\r\n    // attack enabled\r\n    this.canAttack = (await this.angularFirestore.collection<any>(`kingdoms/${this.uid}/troops`, ref => ref.where('assignment', '==', TroopAssignmentType.ATTACK)).get().toPromise()).docs.length !== 0;\r\n    // kingdoms\r\n    if (this.data.type === PopupType.KINGDOM) {\r\n      combineLatest([\r\n        this.angularFirestore.collection<any>(`kingdoms/${this.data.id}/troops`, ref => ref.where('assignment', '==', TroopAssignmentType.DEFENSE)).valueChanges({ idField: 'fid' }),\r\n      ])\r\n      .pipe(untilDestroyed(this))\r\n      .subscribe(([troops]) => {\r\n        this.kingdomTroops = troops.sort((a, b) => a.sort - b.sort);\r\n        this.opened.next(true);\r\n      });\r\n    }\r\n    // shop\r\n    if (this.data.type === PopupType.SHOP) {\r\n      combineLatest([\r\n        this.angularFirestore.collection<any>(`shops/${this.data.id}/contracts`).valueChanges({ idField: 'fid' }),\r\n        this.angularFirestore.collection<any>(`shops/${this.data.id}/troops`).valueChanges({ idField: 'fid' }),\r\n        this.angularFirestore.collection<any>(`shops/${this.data.id}/artifacts`).valueChanges({ idField: 'fid' }),\r\n        this.angularFirestore.collection<any>(`shops/${this.data.id}/charms`).valueChanges({ idField: 'fid' }),\r\n      ])\r\n      .pipe(untilDestroyed(this))\r\n      .subscribe(([contracts, troops, artifacts, charms]) => {\r\n        this.shopContracts = contracts;\r\n        this.shopTroops = troops;\r\n        this.shopArtifacts = artifacts;\r\n        this.shopCharms = charms;\r\n        this.opened.next(true);\r\n      });\r\n    }\r\n    // quest\r\n    if (this.data.type === PopupType.QUEST) {\r\n      combineLatest([\r\n        this.angularFirestore.collection<any>(`quests/${this.data.id}/troops`, ref => ref.where('assignment', '==', TroopAssignmentType.DEFENSE)).valueChanges({ idField: 'fid' }),\r\n        this.angularFirestore.collection<any>(`quests/${this.data.id}/contracts`).valueChanges({ idField: 'fid' }),\r\n        this.angularFirestore.collection<any>(`quests/${this.data.id}/artifacts`).valueChanges({ idField: 'fid' }),\r\n      ])\r\n      .pipe(untilDestroyed(this))\r\n      .subscribe(([troops, contracts, artifacts]) => {\r\n        this.questTroops = troops.sort((a, b) => a.sort - b.sort);\r\n        this.questContracts = contracts;\r\n        this.questArtifacts = artifacts;\r\n        this.opened.next(true);\r\n      });\r\n    }\r\n  }\r\n\r\n  async checkRefresh() {\r\n    if (this.data.type !== PopupType.KINGDOM && this.data.visited && moment().isAfter(moment(this.data.visited.toMillis()))) {\r\n      this.loadingService.startLoading();\r\n      try {\r\n        await this.data.type === PopupType.SHOP\r\n        ? this.apiService.addShop(this.data.id, this.data.store.id)\r\n        : this.apiService.addQuest(this.data.id, this.data.location.id);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n      this.loadingService.stopLoading();\r\n    }\r\n  }\r\n\r\n  openDealDialog(deal: any): void {\r\n    deal.join = deal.hero || deal.item || deal.spell || deal.unit;\r\n    const dialogRef = this.dialog.open(DealComponent, {\r\n      panelClass: 'dialog-responsive',\r\n      data: {\r\n        deal: deal,\r\n        shop: this.data,\r\n      },\r\n    });\r\n  }\r\n\r\n  openAdventureDialog(reward: any): void {\r\n    const dialogRef = this.dialog.open(AdventureComponent, {\r\n      panelClass: 'dialog-responsive',\r\n      data: {\r\n        reward: reward,\r\n        quest: this.data,\r\n      },\r\n    });\r\n  }\r\n\r\n}\r\n","<mat-card class=\"map-popup animated bounceIn mat-elevation-z4\">\r\n\r\n  <!-- kingdom -->\r\n  <mat-card-header *ngIf=\"data.type === PopupType.KINGDOM\">\r\n    <img mat-card-avatar [src]=\"data.faction.marker\" [alt]=\"data.faction.name | translate\">\r\n    <mat-card-title>{{ data.name }}</mat-card-title>\r\n    <mat-card-subtitle>{{ data.faction.name | translate }}</mat-card-subtitle>\r\n  </mat-card-header>\r\n\r\n  <!-- shop -->\r\n  <mat-card-header *ngIf=\"data.type === PopupType.SHOP\">\r\n    <img mat-card-avatar [src]=\"data.store.image\" [alt]=\"data.store.name | translate\">\r\n    <mat-card-title>{{ data.store.name | translate }}</mat-card-title>\r\n    <mat-card-subtitle>{{ data.name }}</mat-card-subtitle>\r\n    <mat-chip-list>\r\n      <mat-chip color=\"primary\" class=\"clock\" selected><mat-icon>update</mat-icon>{{ data.visited.toMillis() | date:('dateformat.short' | translate) }}</mat-chip>\r\n    </mat-chip-list>\r\n  </mat-card-header>\r\n\r\n  <!-- quest -->\r\n  <mat-card-header *ngIf=\"data.type === PopupType.QUEST\">\r\n    <img mat-card-avatar [src]=\"data.location.image\" [alt]=\"data.location.name | translate\">\r\n    <mat-card-title>{{ data.location.name | translate }}</mat-card-title>\r\n    <mat-card-subtitle>{{ data.name }}</mat-card-subtitle>\r\n    <mat-chip-list>\r\n      <mat-chip color=\"primary\" class=\"clock\" selected><mat-icon>update</mat-icon>{{ data.visited.toMillis() | date:('dateformat.short' | translate) }}</mat-chip>\r\n    </mat-chip-list>\r\n  </mat-card-header>\r\n\r\n  <mat-card-content>\r\n    <!-- kingdom troops -->\r\n    <ng-template [ngIf]=\"kingdomTroops.length\">\r\n      <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let troop of kingdomTroops\" [ngClass]=\"[troop.unit.faction.id, troop.unit.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ troop.unit.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\" [alt]=\"'category.legendary.name' | translate\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </ng-template>\r\n\r\n    <!-- shop contracts -->\r\n    <ng-template [ngIf]=\"shopContracts.length\">\r\n      <div matSubheader>{{ 'card.list.contracts' | translate }}:</div>\r\n      <mat-action-list dense>\r\n        <button mat-list-item *ngFor=\"let contract of shopContracts\" [ngClass]=\"[contract.hero.faction.id, contract.hero.legendary ? 'legendary' : 'common']\" (click)=\"openDealDialog(contract)\">\r\n          <div mat-list-avatar [matBadge]=\"contract.level\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"contract.hero.image\" [alt]=\"contract.hero.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ contract.hero.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"contract.hero.description | translate | icon:contract.hero\"></div>\r\n          <div mat-list-avatar [matBadge]=\"contract.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\">\r\n          </div>\r\n        </button>\r\n      </mat-action-list>\r\n    </ng-template>\r\n\r\n    <!-- shop troops -->\r\n    <ng-template [ngIf]=\"shopTroops.length\">\r\n      <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n      <mat-action-list dense>\r\n        <button mat-list-item *ngFor=\"let troop of shopTroops\" [ngClass]=\"[troop.unit.faction.id, troop.unit.legendary ? 'legendary' : 'common']\" (click)=\"openDealDialog(troop)\">\r\n          <div mat-list-avatar [matBadge]=\"troop.quantity | long\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ troop.unit.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\" [alt]=\"'category.legendary.name' | translate\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n          </div>\r\n          <div mat-list-avatar [matBadge]=\"troop.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\">\r\n          </div>\r\n        </button>\r\n      </mat-action-list>\r\n    </ng-template>\r\n\r\n    <!-- shop artifacts -->\r\n    <ng-template [ngIf]=\"shopArtifacts.length\">\r\n      <div matSubheader>{{ 'card.list.artifacts' | translate }}:</div>\r\n      <mat-action-list dense>\r\n        <button mat-list-item *ngFor=\"let artifact of shopArtifacts\" [ngClass]=\"[artifact.item.faction.id, artifact.item.legendary ? 'legendary' : 'common']\" (click)=\"openDealDialog(artifact)\">\r\n          <div mat-list-avatar [matBadge]=\"artifact.quantity\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"artifact.item.image\" [alt]=\"artifact.item.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ artifact.item.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"artifact.item.description | translate | icon:artifact.item\"></div>\r\n          <div mat-list-avatar [matBadge]=\"artifact.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\">\r\n          </div>\r\n        </button>\r\n      </mat-action-list>\r\n    </ng-template>\r\n\r\n    <!-- shop spells -->\r\n    <ng-template [ngIf]=\"shopCharms.length\">\r\n      <div matSubheader>{{ 'card.list.charms' | translate }}:</div>\r\n      <mat-action-list dense>\r\n        <button mat-list-item *ngFor=\"let charm of shopCharms\" [ngClass]=\"[charm.spell.faction.id, charm.spell.legendary ? 'legendary' : 'common']\" (click)=\"openDealDialog(charm)\">\r\n          <div mat-list-avatar [matBadge]=\"charm.level\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"charm.spell.image\" [alt]=\"charm.spell.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ charm.spell.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"charm.spell.description | translate | icon:charm.spell\"></div>\r\n          <div mat-list-avatar [matBadge]=\"charm.gold | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/gold.png\" [alt]=\"'resource.gold.name' | translate\">\r\n          </div>\r\n        </button>\r\n      </mat-action-list>\r\n    </ng-template>\r\n\r\n    <!-- quest contracts -->\r\n    <ng-template [ngIf]=\"questContracts.length\">\r\n      <div matSubheader>{{ 'card.list.contracts' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let contract of questContracts\" [ngClass]=\"[contract.hero.faction.id, contract.hero.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"contract.hero.image\" [alt]=\"contract.hero.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ contract.hero.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"contract.hero.description | translate | icon:contract.hero\"></div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </ng-template>\r\n\r\n    <!-- quest troops -->\r\n    <ng-template [ngIf]=\"questTroops.length\">\r\n      <div matSubheader>{{ 'card.list.troops' | translate }}:</div>\r\n      <mat-list dense>\r\n        <mat-list-item *ngFor=\"let troop of questTroops\" [ngClass]=\"[troop.unit.faction.id, troop.unit.legendary ? 'legendary' : 'common']\">\r\n          <div mat-list-avatar matBadge=\"?\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar [src]=\"troop.unit.image\" [alt]=\"troop.unit.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ troop.unit.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\">\r\n            <img [title]=\"family.name | translate\" class=\"icon\" *ngFor=\"let family of troop.unit.families\" [src]=\"family.image\" [alt]=\"family.name | translate\">\r\n            <img [title]=\"skill.name | translate\" class=\"icon\" *ngFor=\"let skill of troop.unit.skills\" [src]=\"skill.image\" [alt]=\"skill.name | translate\">\r\n            <img [title]=\"category.name | translate\" class=\"icon\" *ngFor=\"let category of troop.unit.categories\" [src]=\"category.image\" [alt]=\"category.name | translate\">\r\n            <img [title]=\"'category.legendary.name' | translate\" class=\"icon\" *ngIf=\"troop.unit.legendary\" src=\"/assets/images/icons/legendary.png\" [alt]=\"'category.legendary.name' | translate\">\r\n          </div>\r\n          <div mat-line class=\"mat-card-subtitle\" *ngIf=\"troop.unit.resistances && troop.unit.resistances.length\">\r\n            <img [title]=\"('category.resistance.name' | translate) + (category.name | translate)\" class=\"icon grayscale\" *ngFor=\"let category of troop.unit.resistances\" [src]=\"category.image\" [alt]=\"'category.resistance.name' | translate\">\r\n          </div>\r\n        </mat-list-item>\r\n      </mat-list>\r\n    </ng-template>\r\n\r\n    <!-- quest artifacts (rewards) -->\r\n    <ng-template [ngIf]=\"questArtifacts.length\">\r\n      <div matSubheader>{{ 'card.list.rewards' | translate }}:</div>\r\n      <mat-action-list dense>\r\n        <button mat-list-item *ngFor=\"let artifact of questArtifacts\" [ngClass]=\"[artifact.item.faction.id, artifact.item.legendary ? 'legendary' : 'common']\" (click)=\"openAdventureDialog(artifact)\" [disabled]=\"!canAttack\">\r\n          <div mat-list-avatar [matBadge]=\"artifact.quantity | long\" matBadgePosition=\"above before\">\r\n            <img mat-list-avatar class=\"animated pulse infinite\" [src]=\"artifact.item.image\" [alt]=\"artifact.item.name | translate\">\r\n          </div>\r\n          <div mat-line>{{ artifact.item.name | translate }}</div>\r\n          <div mat-line class=\"mat-card-subtitle\" [innerHTML]=\"artifact.item.description | translate | icon:artifact.item\"></div>\r\n          <div mat-list-avatar [matBadge]=\"data.turns | long\" matBadgePosition=\"above after\">\r\n            <img mat-list-avatar src=\"/assets/images/resources/turn.png\" [alt]=\"'resource.turn.name' | translate\">\r\n          </div>\r\n        </button>\r\n      </mat-action-list>\r\n    </ng-template>\r\n\r\n  </mat-card-content>\r\n</mat-card>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  hmr: false,\r\n  firebase: {\r\n    apiKey: 'AIzaSyCSVr_n7Ced40pw2qHEhnr3G09UILvB_zc',\r\n    authDomain: 'mage-c4259.firebaseapp.com',\r\n    databaseURL: 'https://mage-c4259.firebaseio.com',\r\n    projectId: 'mage-c4259',\r\n    storageBucket: 'mage-c4259.appspot.com',\r\n    messagingSenderId: '210042498621',\r\n    appId: '1:210042498621:web:c4a21bc796b32d8bf40454',\r\n  },\r\n  mapbox: {\r\n    style: 'mapbox://styles/fergardi/ckacdomo73idr1is4dkj2kfil',\r\n    token: 'pk.eyJ1IjoiZmVyZ2FyZGkiLCJhIjoiY2lxdWl1enJiMDAzaWh4bTNwY3F6MnNwdiJ9.fPkJoOfrARPtZWCj1ehyCQ',\r\n    lat: 42.618060799999995,\r\n    lng: -5.5508992,\r\n    zoom: 12,\r\n    pitch: 80,\r\n  },\r\n  functions: {\r\n    url: 'http://localhost:5001/mage-c4259/europe-west1/api',\r\n  },\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { NgModuleRef, ApplicationRef } from '@angular/core';\r\nimport { createNewHosts } from '@angularclass/hmr';\r\n\r\nexport const hmrBootstrap = (module: any, bootstrap: () => Promise<NgModuleRef<any>>) => {\r\n  let ngModule: NgModuleRef<any>;\r\n  module.hot.accept();\r\n  bootstrap().then(mod => ngModule = mod);\r\n  module.hot.dispose(() => {\r\n    const appRef: ApplicationRef = ngModule.injector.get(ApplicationRef);\r\n    const elements = appRef.components.map(c => c.location.nativeElement);\r\n    const makeVisible = createNewHosts(elements);\r\n    ngModule.destroy();\r\n    makeVisible();\r\n  });\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\nimport { hmrBootstrap } from './hmr';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nconst bootstrap = () => platformBrowserDynamic().bootstrapModule(AppModule);\r\n\r\nif (environment.hmr) {\r\n  if (module['hot']) {\r\n    hmrBootstrap(module, bootstrap);\r\n  } else {\r\n    console.error('HMR is not enabled for webpack-dev-server!');\r\n    console.log('Are you using the --hmr flag for ng serve?');\r\n  }\r\n} else {\r\n  bootstrap().catch(err => console.error(err));\r\n}\r\n\r\n","var map = {\n\t\"./af\": 62275,\n\t\"./af.js\": 62275,\n\t\"./ar\": 90857,\n\t\"./ar-dz\": 11218,\n\t\"./ar-dz.js\": 11218,\n\t\"./ar-kw\": 14754,\n\t\"./ar-kw.js\": 14754,\n\t\"./ar-ly\": 66680,\n\t\"./ar-ly.js\": 66680,\n\t\"./ar-ma\": 92178,\n\t\"./ar-ma.js\": 92178,\n\t\"./ar-sa\": 56522,\n\t\"./ar-sa.js\": 56522,\n\t\"./ar-tn\": 95682,\n\t\"./ar-tn.js\": 95682,\n\t\"./ar.js\": 90857,\n\t\"./az\": 70164,\n\t\"./az.js\": 70164,\n\t\"./be\": 79774,\n\t\"./be.js\": 79774,\n\t\"./bg\": 60947,\n\t\"./bg.js\": 60947,\n\t\"./bm\": 21832,\n\t\"./bm.js\": 21832,\n\t\"./bn\": 89650,\n\t\"./bn-bd\": 74477,\n\t\"./bn-bd.js\": 74477,\n\t\"./bn.js\": 89650,\n\t\"./bo\": 66005,\n\t\"./bo.js\": 66005,\n\t\"./br\": 98492,\n\t\"./br.js\": 98492,\n\t\"./bs\": 70534,\n\t\"./bs.js\": 70534,\n\t\"./ca\": 52061,\n\t\"./ca.js\": 52061,\n\t\"./cs\": 84737,\n\t\"./cs.js\": 84737,\n\t\"./cv\": 61167,\n\t\"./cv.js\": 61167,\n\t\"./cy\": 77996,\n\t\"./cy.js\": 77996,\n\t\"./da\": 9528,\n\t\"./da.js\": 9528,\n\t\"./de\": 14540,\n\t\"./de-at\": 49430,\n\t\"./de-at.js\": 49430,\n\t\"./de-ch\": 67978,\n\t\"./de-ch.js\": 67978,\n\t\"./de.js\": 14540,\n\t\"./dv\": 83426,\n\t\"./dv.js\": 83426,\n\t\"./el\": 6616,\n\t\"./el.js\": 6616,\n\t\"./en-au\": 63816,\n\t\"./en-au.js\": 63816,\n\t\"./en-ca\": 32162,\n\t\"./en-ca.js\": 32162,\n\t\"./en-gb\": 83305,\n\t\"./en-gb.js\": 83305,\n\t\"./en-ie\": 61954,\n\t\"./en-ie.js\": 61954,\n\t\"./en-il\": 43060,\n\t\"./en-il.js\": 43060,\n\t\"./en-in\": 59923,\n\t\"./en-in.js\": 59923,\n\t\"./en-nz\": 13540,\n\t\"./en-nz.js\": 13540,\n\t\"./en-sg\": 16505,\n\t\"./en-sg.js\": 16505,\n\t\"./eo\": 41907,\n\t\"./eo.js\": 41907,\n\t\"./es\": 86640,\n\t\"./es-do\": 41246,\n\t\"./es-do.js\": 41246,\n\t\"./es-mx\": 56131,\n\t\"./es-mx.js\": 56131,\n\t\"./es-us\": 36430,\n\t\"./es-us.js\": 36430,\n\t\"./es.js\": 86640,\n\t\"./et\": 62551,\n\t\"./et.js\": 62551,\n\t\"./eu\": 32711,\n\t\"./eu.js\": 32711,\n\t\"./fa\": 54572,\n\t\"./fa.js\": 54572,\n\t\"./fi\": 33390,\n\t\"./fi.js\": 33390,\n\t\"./fil\": 87860,\n\t\"./fil.js\": 87860,\n\t\"./fo\": 48216,\n\t\"./fo.js\": 48216,\n\t\"./fr\": 99291,\n\t\"./fr-ca\": 98527,\n\t\"./fr-ca.js\": 98527,\n\t\"./fr-ch\": 58407,\n\t\"./fr-ch.js\": 58407,\n\t\"./fr.js\": 99291,\n\t\"./fy\": 47054,\n\t\"./fy.js\": 47054,\n\t\"./ga\": 49540,\n\t\"./ga.js\": 49540,\n\t\"./gd\": 73917,\n\t\"./gd.js\": 73917,\n\t\"./gl\": 51486,\n\t\"./gl.js\": 51486,\n\t\"./gom-deva\": 56245,\n\t\"./gom-deva.js\": 56245,\n\t\"./gom-latn\": 48868,\n\t\"./gom-latn.js\": 48868,\n\t\"./gu\": 59652,\n\t\"./gu.js\": 59652,\n\t\"./he\": 89019,\n\t\"./he.js\": 89019,\n\t\"./hi\": 42040,\n\t\"./hi.js\": 42040,\n\t\"./hr\": 63402,\n\t\"./hr.js\": 63402,\n\t\"./hu\": 79322,\n\t\"./hu.js\": 79322,\n\t\"./hy-am\": 27609,\n\t\"./hy-am.js\": 27609,\n\t\"./id\": 57942,\n\t\"./id.js\": 57942,\n\t\"./is\": 98275,\n\t\"./is.js\": 98275,\n\t\"./it\": 73053,\n\t\"./it-ch\": 4378,\n\t\"./it-ch.js\": 4378,\n\t\"./it.js\": 73053,\n\t\"./ja\": 46176,\n\t\"./ja.js\": 46176,\n\t\"./jv\": 679,\n\t\"./jv.js\": 679,\n\t\"./ka\": 92726,\n\t\"./ka.js\": 92726,\n\t\"./kk\": 72953,\n\t\"./kk.js\": 72953,\n\t\"./km\": 86957,\n\t\"./km.js\": 86957,\n\t\"./kn\": 59181,\n\t\"./kn.js\": 59181,\n\t\"./ko\": 47148,\n\t\"./ko.js\": 47148,\n\t\"./ku\": 27752,\n\t\"./ku.js\": 27752,\n\t\"./ky\": 65675,\n\t\"./ky.js\": 65675,\n\t\"./lb\": 41263,\n\t\"./lb.js\": 41263,\n\t\"./lo\": 65746,\n\t\"./lo.js\": 65746,\n\t\"./lt\": 11143,\n\t\"./lt.js\": 11143,\n\t\"./lv\": 38753,\n\t\"./lv.js\": 38753,\n\t\"./me\": 44054,\n\t\"./me.js\": 44054,\n\t\"./mi\": 31573,\n\t\"./mi.js\": 31573,\n\t\"./mk\": 30202,\n\t\"./mk.js\": 30202,\n\t\"./ml\": 68523,\n\t\"./ml.js\": 68523,\n\t\"./mn\": 79794,\n\t\"./mn.js\": 79794,\n\t\"./mr\": 56681,\n\t\"./mr.js\": 56681,\n\t\"./ms\": 56975,\n\t\"./ms-my\": 39859,\n\t\"./ms-my.js\": 39859,\n\t\"./ms.js\": 56975,\n\t\"./mt\": 3691,\n\t\"./mt.js\": 3691,\n\t\"./my\": 5152,\n\t\"./my.js\": 5152,\n\t\"./nb\": 7607,\n\t\"./nb.js\": 7607,\n\t\"./ne\": 21526,\n\t\"./ne.js\": 21526,\n\t\"./nl\": 86368,\n\t\"./nl-be\": 40076,\n\t\"./nl-be.js\": 40076,\n\t\"./nl.js\": 86368,\n\t\"./nn\": 68420,\n\t\"./nn.js\": 68420,\n\t\"./oc-lnc\": 51906,\n\t\"./oc-lnc.js\": 51906,\n\t\"./pa-in\": 94504,\n\t\"./pa-in.js\": 94504,\n\t\"./pl\": 54721,\n\t\"./pl.js\": 54721,\n\t\"./pt\": 74645,\n\t\"./pt-br\": 54548,\n\t\"./pt-br.js\": 54548,\n\t\"./pt.js\": 74645,\n\t\"./ro\": 71977,\n\t\"./ro.js\": 71977,\n\t\"./ru\": 26042,\n\t\"./ru.js\": 26042,\n\t\"./sd\": 78849,\n\t\"./sd.js\": 78849,\n\t\"./se\": 27739,\n\t\"./se.js\": 27739,\n\t\"./si\": 50084,\n\t\"./si.js\": 50084,\n\t\"./sk\": 92449,\n\t\"./sk.js\": 92449,\n\t\"./sl\": 23086,\n\t\"./sl.js\": 23086,\n\t\"./sq\": 33139,\n\t\"./sq.js\": 33139,\n\t\"./sr\": 30607,\n\t\"./sr-cyrl\": 30063,\n\t\"./sr-cyrl.js\": 30063,\n\t\"./sr.js\": 30607,\n\t\"./ss\": 40131,\n\t\"./ss.js\": 40131,\n\t\"./sv\": 21665,\n\t\"./sv.js\": 21665,\n\t\"./sw\": 5642,\n\t\"./sw.js\": 5642,\n\t\"./ta\": 33622,\n\t\"./ta.js\": 33622,\n\t\"./te\": 74825,\n\t\"./te.js\": 74825,\n\t\"./tet\": 48336,\n\t\"./tet.js\": 48336,\n\t\"./tg\": 39238,\n\t\"./tg.js\": 39238,\n\t\"./th\": 99463,\n\t\"./th.js\": 99463,\n\t\"./tk\": 39986,\n\t\"./tk.js\": 39986,\n\t\"./tl-ph\": 29672,\n\t\"./tl-ph.js\": 29672,\n\t\"./tlh\": 40043,\n\t\"./tlh.js\": 40043,\n\t\"./tr\": 51212,\n\t\"./tr.js\": 51212,\n\t\"./tzl\": 50110,\n\t\"./tzl.js\": 50110,\n\t\"./tzm\": 80482,\n\t\"./tzm-latn\": 38309,\n\t\"./tzm-latn.js\": 38309,\n\t\"./tzm.js\": 80482,\n\t\"./ug-cn\": 42495,\n\t\"./ug-cn.js\": 42495,\n\t\"./uk\": 54157,\n\t\"./uk.js\": 54157,\n\t\"./ur\": 80984,\n\t\"./ur.js\": 80984,\n\t\"./uz\": 64141,\n\t\"./uz-latn\": 43662,\n\t\"./uz-latn.js\": 43662,\n\t\"./uz.js\": 64141,\n\t\"./vi\": 12607,\n\t\"./vi.js\": 12607,\n\t\"./x-pseudo\": 66460,\n\t\"./x-pseudo.js\": 66460,\n\t\"./yo\": 92948,\n\t\"./yo.js\": 92948,\n\t\"./zh-cn\": 62658,\n\t\"./zh-cn.js\": 62658,\n\t\"./zh-hk\": 39352,\n\t\"./zh-hk.js\": 39352,\n\t\"./zh-mo\": 38274,\n\t\"./zh-mo.js\": 38274,\n\t\"./zh-tw\": 98451,\n\t\"./zh-tw.js\": 98451\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":[],"sourceRoot":"webpack:///"}